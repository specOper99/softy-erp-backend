{
  "statistics": {
    "detectionDate": "2026-02-17T07:47:11.769Z",
    "formats": {
      "handlebars": {
        "sources": {
          "src/modules/mail/templates/partials/styles.hbs": {
            "lines": 94,
            "tokens": 574,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/partials/action-email.hbs": {
            "lines": 49,
            "tokens": 262,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 186,
            "percentage": 57.14,
            "percentageTokens": 70.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/task-assignment.hbs": {
            "lines": 36,
            "tokens": 383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/security-alert.hbs": {
            "lines": 30,
            "tokens": 298,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/payroll-notification.hbs": {
            "lines": 38,
            "tokens": 379,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/payment-received.hbs": {
            "lines": 48,
            "tokens": 590,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/password-reset.hbs": {
            "lines": 30,
            "tokens": 300,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 93,
            "percentage": 46.67,
            "percentageTokens": 31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/email-verification.hbs": {
            "lines": 28,
            "tokens": 258,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 93,
            "percentage": 50,
            "percentageTokens": 36.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/booking-confirmation.hbs": {
            "lines": 36,
            "tokens": 392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/templates/booking-cancelled.hbs": {
            "lines": 42,
            "tokens": 537,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 431,
          "tokens": 3973,
          "sources": 10,
          "clones": 2,
          "duplicatedLines": 28,
          "duplicatedTokens": 186,
          "percentage": 6.5,
          "percentageTokens": 4.68,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "typescript": {
        "sources": {
          "src/modules/finance/services/exchange-rate/mock-exchange-rate.service.ts": {
            "lines": 72,
            "tokens": 586,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 95,
            "percentage": 11.11,
            "percentageTokens": 16.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/exchange-rate/index.ts": {
            "lines": 6,
            "tokens": 54,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/exchange-rate/exchange-rate.interface.ts": {
            "lines": 47,
            "tokens": 125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/exchange-rate/api-exchange-rate.service.ts": {
            "lines": 158,
            "tokens": 1527,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 95,
            "percentage": 5.06,
            "percentageTokens": 6.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/handlers/financial-failure.handler.ts": {
            "lines": 210,
            "tokens": 1500,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/handlers/booking-updated.handler.ts": {
            "lines": 26,
            "tokens": 260,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/repositories/webhook.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/repositories/webhook-delivery.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/processors/webhook.processor.ts": {
            "lines": 50,
            "tokens": 486,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/handlers/task-completed.handler.ts": {
            "lines": 21,
            "tokens": 190,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/handlers/booking-updated.handler.ts": {
            "lines": 20,
            "tokens": 181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/handlers/booking-created.handler.ts": {
            "lines": 31,
            "tokens": 286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/handlers/booking-confirmed.handler.ts": {
            "lines": 28,
            "tokens": 259,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/entities/webhook.entity.ts": {
            "lines": 22,
            "tokens": 192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/entities/webhook-delivery.entity.ts": {
            "lines": 98,
            "tokens": 1042,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/services/users.service.ts": {
            "lines": 364,
            "tokens": 3404,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 260,
            "percentage": 7.69,
            "percentageTokens": 7.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/repositories/user.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/events/user-deleted.event.ts": {
            "lines": 8,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/events/user-deactivated.event.ts": {
            "lines": 7,
            "tokens": 58,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/events/user-created.event.ts": {
            "lines": 43,
            "tokens": 254,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/enums/role.enum.ts": {
            "lines": 6,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/entities/user.entity.ts": {
            "lines": 67,
            "tokens": 534,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/dto/user.dto.ts": {
            "lines": 94,
            "tokens": 660,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/controllers/users.controller.ts": {
            "lines": 120,
            "tokens": 1480,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/middleware/tenant.middleware.ts": {
            "lines": 73,
            "tokens": 614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/guards/tenant.guard.ts": {
            "lines": 66,
            "tokens": 602,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/guards/tenant-quota.guard.ts": {
            "lines": 71,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/guards/subscription.guard.ts": {
            "lines": 50,
            "tokens": 437,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/enums/tenant-status.enum.ts": {
            "lines": 8,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/enums/subscription-plan.enum.ts": {
            "lines": 4,
            "tokens": 32,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/entities/tenant.entity.ts": {
            "lines": 252,
            "tokens": 2262,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/entities/subscription.entity.ts": {
            "lines": 35,
            "tokens": 279,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/dto/update-tenant.dto.ts": {
            "lines": 12,
            "tokens": 108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/dto/studio-settings.dto.ts": {
            "lines": 206,
            "tokens": 1399,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/dto/create-tenant.dto.ts": {
            "lines": 15,
            "tokens": 105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/decorators/skip-tenant.decorator.ts": {
            "lines": 4,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/services/time-entries.service.ts": {
            "lines": 136,
            "tokens": 1339,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/services/tasks.service.ts": {
            "lines": 482,
            "tokens": 4451,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 93,
            "percentage": 1.45,
            "percentageTokens": 2.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/services/tasks-export.service.ts": {
            "lines": 68,
            "tokens": 635,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/repositories/task.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/events/task-completed.event.ts": {
            "lines": 10,
            "tokens": 91,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/events/task-assigned.event.ts": {
            "lines": 13,
            "tokens": 124,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/enums/task-status.enum.ts": {
            "lines": 5,
            "tokens": 34,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/entities/time-entry.entity.ts": {
            "lines": 73,
            "tokens": 720,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/entities/task.entity.ts": {
            "lines": 77,
            "tokens": 744,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/entities/task-template.entity.ts": {
            "lines": 54,
            "tokens": 458,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/dto/time-entry.dto.ts": {
            "lines": 51,
            "tokens": 377,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/dto/task.dto.ts": {
            "lines": 72,
            "tokens": 448,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/dto/task-filter.dto.ts": {
            "lines": 40,
            "tokens": 328,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/controllers/time-entries.controller.ts": {
            "lines": 55,
            "tokens": 673,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/controllers/tasks.controller.ts": {
            "lines": 160,
            "tokens": 2345,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 52,
            "duplicatedTokens": 1036,
            "percentage": 32.5,
            "percentageTokens": 44.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/services/reviews.service.ts": {
            "lines": 129,
            "tokens": 1241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/repositories/review.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/enums/review-status.enum.ts": {
            "lines": 4,
            "tokens": 32,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/entities/review.entity.ts": {
            "lines": 47,
            "tokens": 468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/dto/update-review-status.dto.ts": {
            "lines": 8,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/dto/review-response.dto.ts": {
            "lines": 23,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/dto/create-review.dto.ts": {
            "lines": 14,
            "tokens": 134,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/controllers/reviews.controller.ts": {
            "lines": 46,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/entities/privacy-request.entity.ts": {
            "lines": 107,
            "tokens": 1062,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/entities/consent.entity.ts": {
            "lines": 62,
            "tokens": 645,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/dto/privacy.dto.ts": {
            "lines": 26,
            "tokens": 186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/dto/consent.dto.ts": {
            "lines": 23,
            "tokens": 159,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/strategies/platform-jwt.strategy.ts": {
            "lines": 85,
            "tokens": 691,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/platform-time-entries.service.ts": {
            "lines": 144,
            "tokens": 1294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/platform-tenant.service.ts": {
            "lines": 469,
            "tokens": 3677,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/platform-security.service.ts": {
            "lines": 323,
            "tokens": 2814,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/platform-mfa-token.service.ts": {
            "lines": 48,
            "tokens": 445,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/platform-auth.service.ts": {
            "lines": 346,
            "tokens": 3072,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 44,
            "duplicatedTokens": 364,
            "percentage": 12.72,
            "percentageTokens": 11.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/platform-audit.service.ts": {
            "lines": 150,
            "tokens": 1256,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/platform-analytics.service.ts": {
            "lines": 317,
            "tokens": 3036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/mfa.service.ts": {
            "lines": 226,
            "tokens": 1851,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 105,
            "percentage": 3.98,
            "percentageTokens": 5.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/impersonation.service.ts": {
            "lines": 281,
            "tokens": 2227,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/services/email-notification.service.ts": {
            "lines": 313,
            "tokens": 1921,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/guards/require-reason.guard.ts": {
            "lines": 39,
            "tokens": 332,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/guards/platform-permissions.guard.ts": {
            "lines": 93,
            "tokens": 677,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/guards/platform-jwt-auth.guard.ts": {
            "lines": 42,
            "tokens": 342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/enums/tenant-status.enum.ts": {
            "lines": 10,
            "tokens": 58,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/enums/platform-role.enum.ts": {
            "lines": 11,
            "tokens": 70,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/enums/platform-permission.enum.ts": {
            "lines": 46,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/enums/platform-action.enum.ts": {
            "lines": 46,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/entities/tenant-lifecycle-event.entity.ts": {
            "lines": 41,
            "tokens": 397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/entities/platform-user.entity.ts": {
            "lines": 91,
            "tokens": 834,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/entities/platform-session.entity.ts": {
            "lines": 65,
            "tokens": 725,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/entities/platform-audit-log.entity.ts": {
            "lines": 71,
            "tokens": 755,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 85,
            "percentage": 15.49,
            "percentageTokens": 11.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/entities/impersonation-session.entity.ts": {
            "lines": 71,
            "tokens": 705,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 85,
            "percentage": 15.49,
            "percentageTokens": 12.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/dto/tenant-management.dto.ts": {
            "lines": 109,
            "tokens": 671,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/dto/support.dto.ts": {
            "lines": 80,
            "tokens": 490,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/dto/security.dto.ts": {
            "lines": 57,
            "tokens": 343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/dto/platform-time-entries.dto.ts": {
            "lines": 52,
            "tokens": 321,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/dto/platform-auth.dto.ts": {
            "lines": 28,
            "tokens": 169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/dto/billing-management.dto.ts": {
            "lines": 68,
            "tokens": 404,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/decorators/require-reason.decorator.ts": {
            "lines": 7,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/decorators/platform-permissions.decorator.ts": {
            "lines": 9,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/decorators/platform-admin.decorator.ts": {
            "lines": 22,
            "tokens": 47,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/decorators/allow-tenant-bypass.decorator.ts": {
            "lines": 7,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/platform-time-entries.controller.ts": {
            "lines": 63,
            "tokens": 773,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/platform-tenants.controller.ts": {
            "lines": 233,
            "tokens": 2036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/platform-support.controller.ts": {
            "lines": 155,
            "tokens": 1287,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/platform-security.controller.ts": {
            "lines": 283,
            "tokens": 2326,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/platform-auth.controller.ts": {
            "lines": 94,
            "tokens": 936,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/platform-audit.controller.ts": {
            "lines": 110,
            "tokens": 1108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/platform-analytics.controller.ts": {
            "lines": 161,
            "tokens": 1301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/mfa.controller.ts": {
            "lines": 221,
            "tokens": 1646,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 152,
            "percentage": 4.52,
            "percentageTokens": 9.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/controllers/mfa-login.controller.ts": {
            "lines": 40,
            "tokens": 414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/services/ticketing.service.ts": {
            "lines": 102,
            "tokens": 949,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/services/ticketing.interface.ts": {
            "lines": 27,
            "tokens": 150,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/services/notifications.service.ts": {
            "lines": 21,
            "tokens": 232,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/services/notification.service.ts": {
            "lines": 135,
            "tokens": 1258,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 182,
            "percentage": 17.78,
            "percentageTokens": 14.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/services/notification-preferences.service.ts": {
            "lines": 48,
            "tokens": 479,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/repositories/notification.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/repositories/notification-preference.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/handlers/booking-created.handler.ts": {
            "lines": 52,
            "tokens": 538,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/enums/notification.enum.ts": {
            "lines": 14,
            "tokens": 99,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/entities/notification.entity.ts": {
            "lines": 48,
            "tokens": 468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/entities/notification-preference.entity.ts": {
            "lines": 34,
            "tokens": 298,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/dto/notification.dto.ts": {
            "lines": 104,
            "tokens": 647,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/dto/notification-preference.dto.ts": {
            "lines": 18,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/controllers/notifications.controller.ts": {
            "lines": 69,
            "tokens": 1022,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/controllers/notification-preferences.controller.ts": {
            "lines": 36,
            "tokens": 332,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/metrics/guards/metrics.guard.ts": {
            "lines": 60,
            "tokens": 455,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/media/repositories/attachment.repository.ts": {
            "lines": 18,
            "tokens": 124,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/media/entities/attachment.entity.ts": {
            "lines": 53,
            "tokens": 444,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/media/dto/media.dto.ts": {
            "lines": 77,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/services/mail-template.service.ts": {
            "lines": 155,
            "tokens": 1213,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/services/mail-sender.service.ts": {
            "lines": 279,
            "tokens": 2653,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/services/mail-queue.service.ts": {
            "lines": 265,
            "tokens": 2240,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 158,
            "percentage": 6.79,
            "percentageTokens": 7.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/services/email-templates.service.ts": {
            "lines": 113,
            "tokens": 767,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/processors/email.processor.ts": {
            "lines": 107,
            "tokens": 966,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/handlers/task-assigned.handler.ts": {
            "lines": 18,
            "tokens": 167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/handlers/payment-received.handler.ts": {
            "lines": 32,
            "tokens": 304,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/handlers/booking-confirmed.handler.ts": {
            "lines": 29,
            "tokens": 277,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/handlers/booking-cancelled.handler.ts": {
            "lines": 33,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/entities/email-template.entity.ts": {
            "lines": 23,
            "tokens": 186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/dto/email-template.dto.ts": {
            "lines": 62,
            "tokens": 449,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/controllers/email-templates.controller.ts": {
            "lines": 58,
            "tokens": 642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/services/payroll.service.ts": {
            "lines": 378,
            "tokens": 3397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/services/payroll-reconciliation.service.ts": {
            "lines": 257,
            "tokens": 2139,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 78,
            "percentage": 2.72,
            "percentageTokens": 3.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/services/payment-gateway.service.ts": {
            "lines": 70,
            "tokens": 553,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/services/hr.service.ts": {
            "lines": 364,
            "tokens": 3239,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 93,
            "percentage": 1.92,
            "percentageTokens": 2.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/services/attendance.service.ts": {
            "lines": 102,
            "tokens": 1057,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/repositories/profile.repository.ts": {
            "lines": 16,
            "tokens": 130,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/repositories/payroll-run.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/handlers/wallet-balance-updated.handler.ts": {
            "lines": 48,
            "tokens": 349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/handlers/user-deleted.handler.ts": {
            "lines": 22,
            "tokens": 222,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/enums/profile-status.enum.ts": {
            "lines": 5,
            "tokens": 40,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/enums/contract-type.enum.ts": {
            "lines": 6,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/entities/profile.entity.ts": {
            "lines": 76,
            "tokens": 642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/entities/performance-review.entity.ts": {
            "lines": 124,
            "tokens": 1097,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/entities/payroll-run.entity.ts": {
            "lines": 23,
            "tokens": 253,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/entities/index.ts": {
            "lines": 3,
            "tokens": 34,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/entities/attendance.entity.ts": {
            "lines": 89,
            "tokens": 838,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/dto/profile-filter.dto.ts": {
            "lines": 26,
            "tokens": 237,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/dto/hr.dto.ts": {
            "lines": 165,
            "tokens": 1075,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/dto/attendance.dto.ts": {
            "lines": 51,
            "tokens": 333,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/controllers/hr.controller.ts": {
            "lines": 160,
            "tokens": 1754,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 23,
            "duplicatedTokens": 507,
            "percentage": 14.38,
            "percentageTokens": 28.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/controllers/attendance.controller.ts": {
            "lines": 89,
            "tokens": 1073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/health/indicators/smtp-health.indicator.ts": {
            "lines": 60,
            "tokens": 592,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/health/indicators/s3-health.indicator.ts": {
            "lines": 37,
            "tokens": 431,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/health/indicators/circuit-breaker.health.ts": {
            "lines": 29,
            "tokens": 252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/types/report.types.ts": {
            "lines": 36,
            "tokens": 223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/wallet.service.ts": {
            "lines": 334,
            "tokens": 2551,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/recurring-transaction.service.ts": {
            "lines": 156,
            "tokens": 1590,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/payout-relay.service.ts": {
            "lines": 190,
            "tokens": 1894,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/invoice.service.ts": {
            "lines": 280,
            "tokens": 2546,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 91,
            "percentage": 1.79,
            "percentageTokens": 3.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/financial-report.service.ts": {
            "lines": 202,
            "tokens": 1976,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/finance.service.ts": {
            "lines": 415,
            "tokens": 3400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/services/currency.service.ts": {
            "lines": 45,
            "tokens": 339,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/repositories/wallet.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/repositories/transaction.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/repositories/recurring-transaction.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/repositories/payout.repository.ts": {
            "lines": 63,
            "tokens": 487,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/repositories/invoice.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/repositories/department-budget.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/handlers/booking-price-changed.handler.ts": {
            "lines": 104,
            "tokens": 807,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/wallet-balance-updated.event.ts": {
            "lines": 38,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/transaction-failed.event.ts": {
            "lines": 59,
            "tokens": 392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/transaction-created.event.ts": {
            "lines": 35,
            "tokens": 260,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/payout-failed.event.ts": {
            "lines": 102,
            "tokens": 633,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/index.ts": {
            "lines": 7,
            "tokens": 45,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/financial-reconciliation-failed.event.ts": {
            "lines": 33,
            "tokens": 149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/events/base-financial.event.ts": {
            "lines": 129,
            "tokens": 710,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/enums/transaction-type.enum.ts": {
            "lines": 12,
            "tokens": 77,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/enums/payout-status.enum.ts": {
            "lines": 6,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/enums/payment-status.enum.ts": {
            "lines": 5,
            "tokens": 40,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/enums/currency.enum.ts": {
            "lines": 6,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/transaction.entity.ts": {
            "lines": 95,
            "tokens": 817,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/transaction-category.entity.ts": {
            "lines": 36,
            "tokens": 373,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/recurring-transaction.entity.ts": {
            "lines": 137,
            "tokens": 1221,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/payout.entity.ts": {
            "lines": 49,
            "tokens": 403,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/invoice.entity.ts": {
            "lines": 158,
            "tokens": 1453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/index.ts": {
            "lines": 6,
            "tokens": 61,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/employee-wallet.entity.ts": {
            "lines": 28,
            "tokens": 192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/entities/department-budget.entity.ts": {
            "lines": 29,
            "tokens": 225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/dto/transaction-category.dto.ts": {
            "lines": 33,
            "tokens": 261,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/dto/recurring-transaction.dto.ts": {
            "lines": 93,
            "tokens": 662,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/dto/index.ts": {
            "lines": 4,
            "tokens": 43,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/dto/financial-report.dto.ts": {
            "lines": 32,
            "tokens": 212,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/dto/finance.dto.ts": {
            "lines": 131,
            "tokens": 819,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/dto/budget.dto.ts": {
            "lines": 89,
            "tokens": 505,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/cron/payout-consistency.cron.ts": {
            "lines": 126,
            "tokens": 1123,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 78,
            "percentage": 5.56,
            "percentageTokens": 6.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/controllers/wallets.controller.ts": {
            "lines": 47,
            "tokens": 470,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/controllers/transactions.controller.ts": {
            "lines": 123,
            "tokens": 1318,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/controllers/recurring-transaction.controller.ts": {
            "lines": 65,
            "tokens": 679,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/controllers/invoice.controller.ts": {
            "lines": 54,
            "tokens": 683,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/controllers/financial-report.controller.ts": {
            "lines": 56,
            "tokens": 613,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 104,
            "percentage": 16.07,
            "percentageTokens": 16.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/constants/index.ts": {
            "lines": 3,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/constants/finance.constants.ts": {
            "lines": 174,
            "tokens": 819,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/types/report.types.ts": {
            "lines": 12,
            "tokens": 75,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/services/report-generator.service.ts": {
            "lines": 232,
            "tokens": 2286,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 91,
            "percentage": 2.16,
            "percentageTokens": 3.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/repositories/user-preference.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/handlers/wallet-balance-updated.handler.ts": {
            "lines": 54,
            "tokens": 420,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/handlers/transaction-created.handler.ts": {
            "lines": 30,
            "tokens": 319,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/handlers/booking-created.handler.ts": {
            "lines": 28,
            "tokens": 301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/entities/user-preference.entity.ts": {
            "lines": 25,
            "tokens": 213,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/dto/update-preferences.dto.ts": {
            "lines": 24,
            "tokens": 187,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/dto/dashboard.dto.ts": {
            "lines": 114,
            "tokens": 697,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/services/client-portal.service.ts": {
            "lines": 324,
            "tokens": 3405,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 190,
            "percentage": 7.1,
            "percentageTokens": 5.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/services/client-auth.service.ts": {
            "lines": 297,
            "tokens": 2701,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/services/availability.service.ts": {
            "lines": 247,
            "tokens": 2624,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/guards/client-token.guard.ts": {
            "lines": 26,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/dto/update-profile.dto.ts": {
            "lines": 23,
            "tokens": 218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/dto/create-client-booking.dto.ts": {
            "lines": 25,
            "tokens": 218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/dto/client-portal-openapi.dto.ts": {
            "lines": 390,
            "tokens": 2799,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/dto/client-auth.dto.ts": {
            "lines": 40,
            "tokens": 276,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/decorators/validate-tenant-slug.decorator.ts": {
            "lines": 61,
            "tokens": 484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/services/catalog.service.ts": {
            "lines": 490,
            "tokens": 4396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/repositories/task-type.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/repositories/service-package.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/repositories/package-item.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/events/package.events.ts": {
            "lines": 98,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/entities/task-type.entity.ts": {
            "lines": 22,
            "tokens": 170,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/entities/service-package.entity.ts": {
            "lines": 25,
            "tokens": 243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/entities/package-item.entity.ts": {
            "lines": 20,
            "tokens": 194,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/dto/package-response.dto.ts": {
            "lines": 56,
            "tokens": 364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/dto/package-filter.dto.ts": {
            "lines": 16,
            "tokens": 169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/dto/index.ts": {
            "lines": 3,
            "tokens": 34,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/dto/clone-package.dto.ts": {
            "lines": 19,
            "tokens": 160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/dto/catalog.dto.ts": {
            "lines": 155,
            "tokens": 1033,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/controllers/task-types.controller.ts": {
            "lines": 63,
            "tokens": 557,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/controllers/packages.controller.ts": {
            "lines": 185,
            "tokens": 2016,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 21,
            "duplicatedTokens": 375,
            "percentage": 11.35,
            "percentageTokens": 18.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/utils/booking-price.calculator.ts": {
            "lines": 71,
            "tokens": 324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/types/export.types.ts": {
            "lines": 33,
            "tokens": 228,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/services/clients.service.ts": {
            "lines": 218,
            "tokens": 2173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/services/bookings.service.ts": {
            "lines": 503,
            "tokens": 4714,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 48,
            "duplicatedTokens": 516,
            "percentage": 9.54,
            "percentageTokens": 10.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/services/booking-workflow.service.ts": {
            "lines": 334,
            "tokens": 2818,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/services/booking-state-machine.service.ts": {
            "lines": 129,
            "tokens": 956,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/services/booking-export.service.ts": {
            "lines": 101,
            "tokens": 1027,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/repositories/client.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/repositories/booking.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/payment-recorded.event.ts": {
            "lines": 15,
            "tokens": 146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/client.events.ts": {
            "lines": 56,
            "tokens": 331,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/booking-updated.event.ts": {
            "lines": 9,
            "tokens": 86,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/booking-price-changed.event.ts": {
            "lines": 37,
            "tokens": 209,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/booking-created.event.ts": {
            "lines": 24,
            "tokens": 163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/booking-confirmed.event.ts": {
            "lines": 12,
            "tokens": 113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/booking-completed.event.ts": {
            "lines": 8,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/events/booking-cancelled.event.ts": {
            "lines": 16,
            "tokens": 157,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/enums/booking-status.enum.ts": {
            "lines": 6,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/entities/client.entity.ts": {
            "lines": 62,
            "tokens": 534,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/entities/booking.entity.ts": {
            "lines": 130,
            "tokens": 950,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/dto/record-payment.dto.ts": {
            "lines": 21,
            "tokens": 169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/dto/mark-booking-paid.dto.ts": {
            "lines": 13,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/dto/index.ts": {
            "lines": 5,
            "tokens": 52,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/dto/client.dto.ts": {
            "lines": 81,
            "tokens": 617,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/dto/cancel-booking.dto.ts": {
            "lines": 23,
            "tokens": 186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/dto/booking.dto.ts": {
            "lines": 157,
            "tokens": 957,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/dto/booking-filter.dto.ts": {
            "lines": 81,
            "tokens": 591,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/controllers/clients.controller.ts": {
            "lines": 81,
            "tokens": 775,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/controllers/bookings.controller.ts": {
            "lines": 260,
            "tokens": 3249,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 232,
            "percentage": 5.38,
            "percentageTokens": 7.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/services/subscription.service.ts": {
            "lines": 312,
            "tokens": 3039,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/services/stripe.service.ts": {
            "lines": 155,
            "tokens": 1466,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/services/metering.service.ts": {
            "lines": 75,
            "tokens": 743,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/repositories/usage-record.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/entities/usage-record.entity.ts": {
            "lines": 43,
            "tokens": 405,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/entities/subscription.entity.ts": {
            "lines": 90,
            "tokens": 784,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/entities/payment-method.entity.ts": {
            "lines": 67,
            "tokens": 650,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/entities/index.ts": {
            "lines": 4,
            "tokens": 43,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/entities/billing-webhook-event.entity.ts": {
            "lines": 18,
            "tokens": 177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/entities/billing-customer.entity.ts": {
            "lines": 45,
            "tokens": 486,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/dto/billing.dto.ts": {
            "lines": 102,
            "tokens": 557,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/controllers/billing.controller.ts": {
            "lines": 191,
            "tokens": 1833,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/strategies/jwt.strategy.ts": {
            "lines": 55,
            "tokens": 487,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/services/token.service.ts": {
            "lines": 182,
            "tokens": 1722,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/services/token-blacklist.service.ts": {
            "lines": 39,
            "tokens": 360,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/services/session.service.ts": {
            "lines": 116,
            "tokens": 1109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/services/password.service.ts": {
            "lines": 102,
            "tokens": 914,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/services/mfa.service.ts": {
            "lines": 144,
            "tokens": 1402,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 105,
            "percentage": 6.25,
            "percentageTokens": 7.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/services/mfa-token.service.ts": {
            "lines": 34,
            "tokens": 333,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/services/account-lockout.service.ts": {
            "lines": 94,
            "tokens": 810,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/handlers/user-deactivated.handler.ts": {
            "lines": 21,
            "tokens": 237,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/guards/ws-jwt.guard.ts": {
            "lines": 95,
            "tokens": 907,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/guards/mfa-required.guard.ts": {
            "lines": 51,
            "tokens": 453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/guards/jwt-auth.guard.ts": {
            "lines": 33,
            "tokens": 338,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/entities/refresh-token.entity.ts": {
            "lines": 96,
            "tokens": 887,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/entities/password-reset-token.entity.ts": {
            "lines": 4,
            "tokens": 44,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/entities/email-verification-token.entity.ts": {
            "lines": 4,
            "tokens": 44,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/entities/base-token.entity.ts": {
            "lines": 30,
            "tokens": 241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/verify-recovery-code.dto.ts": {
            "lines": 14,
            "tokens": 118,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/verify-email.dto.ts": {
            "lines": 11,
            "tokens": 81,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/reset-password.dto.ts": {
            "lines": 24,
            "tokens": 168,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/recovery-codes-response.dto.ts": {
            "lines": 33,
            "tokens": 179,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/mfa.dto.ts": {
            "lines": 25,
            "tokens": 188,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/mfa-verify-totp.dto.ts": {
            "lines": 22,
            "tokens": 152,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/mfa-verify-recovery.dto.ts": {
            "lines": 22,
            "tokens": 152,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/index.ts": {
            "lines": 8,
            "tokens": 79,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/forgot-password.dto.ts": {
            "lines": 11,
            "tokens": 81,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/dto/auth.dto.ts": {
            "lines": 124,
            "tokens": 812,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/decorators/mfa-required.decorator.ts": {
            "lines": 16,
            "tokens": 49,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/repositories/audit-log.repository.ts": {
            "lines": 14,
            "tokens": 122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/entities/audit-log.entity.ts": {
            "lines": 90,
            "tokens": 858,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/dto/create-audit-log.dto.ts": {
            "lines": 14,
            "tokens": 109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/dto/audit-log-filter.dto.ts": {
            "lines": 33,
            "tokens": 238,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/analytics/services/analytics.service.ts": {
            "lines": 90,
            "tokens": 987,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/analytics/repositories/daily-metrics.repository.ts": {
            "lines": 22,
            "tokens": 221,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/analytics/handlers/update-metrics.handler.ts": {
            "lines": 137,
            "tokens": 1366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/analytics/entities/daily-metrics.entity.ts": {
            "lines": 34,
            "tokens": 281,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/analytics/controllers/analytics.controller.ts": {
            "lines": 48,
            "tokens": 543,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 104,
            "percentage": 18.75,
            "percentageTokens": 19.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/admin/services/key-rotation.service.ts": {
            "lines": 71,
            "tokens": 563,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/domain/interfaces/user.interface.ts": {
            "lines": 5,
            "tokens": 33,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/domain/interfaces/task.interface.ts": {
            "lines": 6,
            "tokens": 41,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/webhooks.types.ts": {
            "lines": 32,
            "tokens": 191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/webhooks.service.ts": {
            "lines": 404,
            "tokens": 3536,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/webhooks/webhooks.module.ts": {
            "lines": 46,
            "tokens": 377,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/users/users.module.ts": {
            "lines": 15,
            "tokens": 175,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/tenants.service.ts": {
            "lines": 111,
            "tokens": 1322,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/tenants.module.ts": {
            "lines": 12,
            "tokens": 124,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tenants/tenants.controller.ts": {
            "lines": 130,
            "tokens": 1269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/tasks/tasks.module.ts": {
            "lines": 21,
            "tokens": 259,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/reviews/reviews.module.ts": {
            "lines": 13,
            "tokens": 140,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/privacy.service.ts": {
            "lines": 391,
            "tokens": 3814,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/privacy.module.ts": {
            "lines": 28,
            "tokens": 266,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/privacy.controller.ts": {
            "lines": 105,
            "tokens": 1179,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/privacy/consent.service.ts": {
            "lines": 116,
            "tokens": 996,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/platform.module.ts": {
            "lines": 119,
            "tokens": 881,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/index.ts": {
            "lines": 44,
            "tokens": 273,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/notifications/notifications.module.ts": {
            "lines": 36,
            "tokens": 316,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/metrics/metrics.service.ts": {
            "lines": 93,
            "tokens": 714,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/metrics/metrics.module.ts": {
            "lines": 11,
            "tokens": 117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/metrics/metrics.controller.ts": {
            "lines": 30,
            "tokens": 312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/media/storage.service.ts": {
            "lines": 263,
            "tokens": 2047,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/media/media.service.ts": {
            "lines": 333,
            "tokens": 3036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/media/media.module.ts": {
            "lines": 14,
            "tokens": 162,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/media/media.controller.ts": {
            "lines": 181,
            "tokens": 2229,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/mail.types.ts": {
            "lines": 200,
            "tokens": 1342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/mail.service.ts": {
            "lines": 114,
            "tokens": 859,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/mail/mail.module.ts": {
            "lines": 98,
            "tokens": 875,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/hr/hr.module.ts": {
            "lines": 56,
            "tokens": 549,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/health/health.module.ts": {
            "lines": 12,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/health/health.controller.ts": {
            "lines": 170,
            "tokens": 1598,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 34,
            "duplicatedTokens": 368,
            "percentage": 20,
            "percentageTokens": 23.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/finance/finance.module.ts": {
            "lines": 95,
            "tokens": 693,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/dashboard.service.ts": {
            "lines": 425,
            "tokens": 4368,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/dashboard.module.ts": {
            "lines": 44,
            "tokens": 360,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/dashboard.gateway.ts": {
            "lines": 140,
            "tokens": 1269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/dashboard/dashboard.controller.ts": {
            "lines": 223,
            "tokens": 2643,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/core/core.module.ts": {
            "lines": 77,
            "tokens": 532,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 50,
            "duplicatedTokens": 200,
            "percentage": 64.94,
            "percentageTokens": 37.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/index.ts": {
            "lines": 3,
            "tokens": 34,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/client-portal.module.ts": {
            "lines": 113,
            "tokens": 969,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/client-portal/client-portal.controller.ts": {
            "lines": 772,
            "tokens": 8193,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 190,
            "percentage": 2.98,
            "percentageTokens": 2.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/catalog/catalog.module.ts": {
            "lines": 19,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/bookings/bookings.module.ts": {
            "lines": 52,
            "tokens": 413,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/billing/billing.module.ts": {
            "lines": 18,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/auth.service.ts": {
            "lines": 473,
            "tokens": 4674,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 30,
            "duplicatedTokens": 468,
            "percentage": 6.34,
            "percentageTokens": 10.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/auth.module.ts": {
            "lines": 77,
            "tokens": 635,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/auth/auth.controller.ts": {
            "lines": 402,
            "tokens": 4098,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/audit.service.ts": {
            "lines": 185,
            "tokens": 1754,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/audit.publisher.ts": {
            "lines": 4,
            "tokens": 42,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/audit.processor.ts": {
            "lines": 121,
            "tokens": 1090,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/audit.module.ts": {
            "lines": 39,
            "tokens": 294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/audit/audit.controller.ts": {
            "lines": 76,
            "tokens": 706,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/analytics/analytics.module.ts": {
            "lines": 27,
            "tokens": 268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/admin/admin.module.ts": {
            "lines": 13,
            "tokens": 147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/admin/admin.controller.ts": {
            "lines": 41,
            "tokens": 441,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/20260125000000-EnforceGlobalUniqueUserEmail.ts": {
            "lines": 78,
            "tokens": 303,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 271,
            "percentage": 41.03,
            "percentageTokens": 89.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770800000000-AddCompositeTenantFKsCoreRelations.ts": {
            "lines": 128,
            "tokens": 169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770700000004-EnforceImpersonationTokenHashNotNull.ts": {
            "lines": 30,
            "tokens": 171,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770700000003-PreventConcurrentActiveImpersonationSessions.ts": {
            "lines": 39,
            "tokens": 159,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770700000002-HardenImpersonationSessionTokenStorage.ts": {
            "lines": 61,
            "tokens": 412,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770700000001-AddBillingWebhookEventIdempotency.ts": {
            "lines": 59,
            "tokens": 442,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770700000000-HardenPlatformSessionsAndSyncInvoiceSchema.ts": {
            "lines": 207,
            "tokens": 1505,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770600000000-CreateReviewsTable.ts": {
            "lines": 155,
            "tokens": 931,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770500000000-AddClientPortalFields.ts": {
            "lines": 179,
            "tokens": 1381,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770450000000-CreateNotificationsTable.ts": {
            "lines": 123,
            "tokens": 730,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 121,
            "duplicatedTokens": 701,
            "percentage": 98.37,
            "percentageTokens": 96.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770400000000-AllowNullPlatformSessionToken.ts": {
            "lines": 18,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770200000000-GlobalUniqueUserEmail.ts": {
            "lines": 51,
            "tokens": 271,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 156,
            "percentage": 41.18,
            "percentageTokens": 57.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770100000000-CreateOutboxEvents.ts": {
            "lines": 33,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1770000000000-AddPasswordResetTokens.ts": {
            "lines": 29,
            "tokens": 159,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1769908893000-ExpandPlatformSessionTokenColumns.ts": {
            "lines": 26,
            "tokens": 153,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1769900000000-AddPayoutIdempotencyKey.ts": {
            "lines": 17,
            "tokens": 137,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1769000000000-DefaultPayoutStatusPending.ts": {
            "lines": 12,
            "tokens": 109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1768500000000-UpdateUserEmailUniqueIndex.ts": {
            "lines": 59,
            "tokens": 168,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1768000000002-AddMissingTaskColumns.ts": {
            "lines": 38,
            "tokens": 343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1768000000001-AddMissingBookingColumns.ts": {
            "lines": 118,
            "tokens": 817,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1768000000000-AddTemplateFieldsToServicePackages.ts": {
            "lines": 22,
            "tokens": 192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767900000000-PartitionAuditLogs.ts": {
            "lines": 122,
            "tokens": 420,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767800000005-UpdateTransactionCategories.ts": {
            "lines": 16,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767800000004-AddMissingIndexes.ts": {
            "lines": 59,
            "tokens": 403,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767800000003-AddSessionTrackingFields.ts": {
            "lines": 30,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767800000002-AddAuditLogChaining.ts": {
            "lines": 42,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767800000001-AddBillingTables.ts": {
            "lines": 171,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767800000000-AddNewEntities.ts": {
            "lines": 499,
            "tokens": 1678,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767700000004-SyncTenantSchema.ts": {
            "lines": 56,
            "tokens": 470,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767700000003-AddTenantBaseCurrency.ts": {
            "lines": 33,
            "tokens": 213,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767700000002-SyncProfileSchema.ts": {
            "lines": 65,
            "tokens": 481,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767700000001-CreatePayrollRuns.ts": {
            "lines": 30,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767700000000-AddPhase3Indexes.ts": {
            "lines": 74,
            "tokens": 317,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767600000004-AddEmailTemplates.ts": {
            "lines": 30,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767600000003-CreateInvoicesTable.ts": {
            "lines": 53,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767600000002-AddUserPreferences.ts": {
            "lines": 29,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767600000001-AddClientTags.ts": {
            "lines": 32,
            "tokens": 160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767600000000-AddClientAuthFields.ts": {
            "lines": 72,
            "tokens": 550,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767510000000-AddEmailVerification.ts": {
            "lines": 35,
            "tokens": 192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767500000000-AddAuditEnhancedFields.ts": {
            "lines": 48,
            "tokens": 337,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767439784793-AddMfaFields.ts": {
            "lines": 16,
            "tokens": 153,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767400000000-AddCompositeFKConstraints.ts": {
            "lines": 117,
            "tokens": 323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767378712783-performance-indexes.ts": {
            "lines": 178,
            "tokens": 1391,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767362400000-CreateWebhookTable.ts": {
            "lines": 39,
            "tokens": 181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767300000001-CompositeKeys.ts": {
            "lines": 26,
            "tokens": 143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767300000000-EnforceTenantIdUuidNotNull.ts": {
            "lines": 169,
            "tokens": 1100,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767273600000-GlobalUniqueUserEmail.ts": {
            "lines": 55,
            "tokens": 283,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 115,
            "percentage": 20,
            "percentageTokens": 40.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767272597291-RefactorTransactionsAndAddClients.ts": {
            "lines": 112,
            "tokens": 585,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767220000000-AddTenantIdToAttachmentsAndFixWalletUniq.ts": {
            "lines": 69,
            "tokens": 394,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767092139714-AddTenantIdToProfileFinal.ts": {
            "lines": 14,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1767084233890-AddPerformanceIndexes.ts": {
            "lines": 240,
            "tokens": 1804,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1738885200000-AddStudioSettingsToTenants.ts": {
            "lines": 65,
            "tokens": 294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1738108524000-AddBookingStatusConstraints.ts": {
            "lines": 54,
            "tokens": 202,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1737241200000-CreatePlatformTables.ts": {
            "lines": 684,
            "tokens": 3641,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 673,
            "duplicatedTokens": 3533,
            "percentage": 98.39,
            "percentageTokens": 97.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1736469350000-RenameAccessTokenToHash.ts": {
            "lines": 90,
            "tokens": 365,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1736389200000-AddCriticalIndexesAndConstraints.ts": {
            "lines": 91,
            "tokens": 354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1735858000000-AddDashboardIndexes.ts": {
            "lines": 52,
            "tokens": 242,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1703950000000-AddTenantIdToAuditLogs.ts": {
            "lines": 28,
            "tokens": 145,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1703859449000-AddPerformanceIndexes.ts": {
            "lines": 96,
            "tokens": 374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/migrations/1703850000000-InitialSchema.ts": {
            "lines": 463,
            "tokens": 1013,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/tenant-scoped-manager.ts": {
            "lines": 119,
            "tokens": 588,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 242,
            "percentage": 25.21,
            "percentageTokens": 41.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/pdf.utils.ts": {
            "lines": 11,
            "tokens": 108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/math.utils.ts": {
            "lines": 121,
            "tokens": 748,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/log-sanitizer.util.ts": {
            "lines": 49,
            "tokens": 451,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/jwt-algorithm.util.ts": {
            "lines": 17,
            "tokens": 205,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/file-type.util.ts": {
            "lines": 8,
            "tokens": 120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/export.utils.ts": {
            "lines": 78,
            "tokens": 700,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/date.utils.ts": {
            "lines": 20,
            "tokens": 137,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/cursor.utils.ts": {
            "lines": 33,
            "tokens": 335,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/cursor-pagination.helper.ts": {
            "lines": 93,
            "tokens": 906,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/cors-origins.util.ts": {
            "lines": 61,
            "tokens": 601,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/client-ip.util.ts": {
            "lines": 93,
            "tokens": 932,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/utils/async.utils.ts": {
            "lines": 167,
            "tokens": 1142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/transformers/index.ts": {
            "lines": 5,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/transformers/decimal.transformer.ts": {
            "lines": 167,
            "tokens": 1177,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 32,
            "duplicatedTokens": 394,
            "percentage": 19.16,
            "percentageTokens": 33.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/telemetry/tracing.ts": {
            "lines": 93,
            "tokens": 848,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/tenant-context.service.ts": {
            "lines": 29,
            "tokens": 231,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/tenant-context.provider.ts": {
            "lines": 33,
            "tokens": 133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/shutdown.service.ts": {
            "lines": 21,
            "tokens": 191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/password-hash.service.ts": {
            "lines": 144,
            "tokens": 754,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/outbox-relay.service.ts": {
            "lines": 56,
            "tokens": 541,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/metrics.factory.ts": {
            "lines": 99,
            "tokens": 634,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/geoip.service.ts": {
            "lines": 22,
            "tokens": 294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/export.service.ts": {
            "lines": 96,
            "tokens": 717,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/encryption.service.ts": {
            "lines": 235,
            "tokens": 2146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/distributed-lock.service.ts": {
            "lines": 240,
            "tokens": 1419,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/services/cursor-auth.service.ts": {
            "lines": 149,
            "tokens": 915,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/resilience/resilience.module.ts": {
            "lines": 33,
            "tokens": 301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/resilience/database-resilience.service.ts": {
            "lines": 47,
            "tokens": 400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/repositories/tenant-aware.repository.ts": {
            "lines": 353,
            "tokens": 3050,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 184,
            "percentage": 7.93,
            "percentageTokens": 6.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/queue/queue.module.ts": {
            "lines": 39,
            "tokens": 280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/middleware/correlation-id.middleware.ts": {
            "lines": 30,
            "tokens": 290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/logger/tenant-aware.logger.ts": {
            "lines": 174,
            "tokens": 1392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/logger/request-context.ts": {
            "lines": 24,
            "tokens": 147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/logger/logger.module.ts": {
            "lines": 97,
            "tokens": 862,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/logger/log-sanitizer.ts": {
            "lines": 112,
            "tokens": 666,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/transform.interceptor.ts": {
            "lines": 23,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/structured-logging.interceptor.ts": {
            "lines": 113,
            "tokens": 1140,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/message-pack.interceptor.ts": {
            "lines": 58,
            "tokens": 525,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/index.ts": {
            "lines": 4,
            "tokens": 43,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/idempotency.interceptor.ts": {
            "lines": 219,
            "tokens": 1401,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/audit.interceptor.ts": {
            "lines": 184,
            "tokens": 1787,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/interceptors/api-version.interceptor.ts": {
            "lines": 81,
            "tokens": 631,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/i18n/i18n.service.ts": {
            "lines": 117,
            "tokens": 1178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/i18n/i18n.module.ts": {
            "lines": 8,
            "tokens": 68,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/helpers/booking-query.helper.ts": {
            "lines": 109,
            "tokens": 744,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/guards/roles.guard.ts": {
            "lines": 33,
            "tokens": 295,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/guards/resource-ownership.guard.ts": {
            "lines": 193,
            "tokens": 1349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/guards/platform-context.guard.ts": {
            "lines": 49,
            "tokens": 382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/guards/ip-rate-limit.guard.ts": {
            "lines": 186,
            "tokens": 1774,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/flags/flags.service.ts": {
            "lines": 57,
            "tokens": 501,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/filters/i18n-exception.filter.ts": {
            "lines": 133,
            "tokens": 1206,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/filters/all-exceptions.filter.ts": {
            "lines": 123,
            "tokens": 1094,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/index.ts": {
            "lines": 11,
            "tokens": 10,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/exceptions/domain.exceptions.ts": {
            "lines": 201,
            "tokens": 1182,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/enums/context-type.enum.ts": {
            "lines": 6,
            "tokens": 30,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/entities/outbox-event.entity.ts": {
            "lines": 37,
            "tokens": 246,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/entities/abstract.entity.ts": {
            "lines": 17,
            "tokens": 156,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/dto/pagination.dto.ts": {
            "lines": 61,
            "tokens": 486,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/dto/paginated-response.dto.ts": {
            "lines": 90,
            "tokens": 675,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/dto/error-response.dto.ts": {
            "lines": 154,
            "tokens": 957,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/dto/cursor-pagination.dto.ts": {
            "lines": 34,
            "tokens": 188,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 93,
            "percentage": 44.12,
            "percentageTokens": 49.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/dto/combined-pagination.dto.ts": {
            "lines": 83,
            "tokens": 632,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 93,
            "percentage": 18.07,
            "percentageTokens": 14.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/target-tenant.decorator.ts": {
            "lines": 41,
            "tokens": 187,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/skip-ip-rate-limit.decorator.ts": {
            "lines": 4,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/sanitize-html.decorator.ts": {
            "lines": 20,
            "tokens": 189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/roles.decorator.ts": {
            "lines": 4,
            "tokens": 65,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/pii.decorator.ts": {
            "lines": 79,
            "tokens": 360,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/no-cache.decorator.ts": {
            "lines": 3,
            "tokens": 45,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/index.ts": {
            "lines": 8,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/current-user.decorator.ts": {
            "lines": 19,
            "tokens": 191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/context.decorator.ts": {
            "lines": 8,
            "tokens": 65,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/column.decorators.ts": {
            "lines": 145,
            "tokens": 646,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/cacheable.decorator.ts": {
            "lines": 3,
            "tokens": 45,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/audit.decorator.ts": {
            "lines": 29,
            "tokens": 99,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/decorators/api-error-responses.decorator.ts": {
            "lines": 34,
            "tokens": 289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/constants/validation-messages.ts": {
            "lines": 146,
            "tokens": 703,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/constants/tenant-repo.tokens.ts": {
            "lines": 9,
            "tokens": 28,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/constants/business.constants.ts": {
            "lines": 27,
            "tokens": 147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cache/cache.module.ts": {
            "lines": 36,
            "tokens": 297,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cache/cache.interceptor.ts": {
            "lines": 111,
            "tokens": 1182,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/cache/cache-utils.service.ts": {
            "lines": 87,
            "tokens": 769,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/1738451200000-CreateNotificationsTable.ts": {
            "lines": 123,
            "tokens": 730,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 121,
            "duplicatedTokens": 701,
            "percentage": 98.37,
            "percentageTokens": 96.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/migrations/1737241200000-CreatePlatformTables.ts": {
            "lines": 678,
            "tokens": 3597,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 673,
            "duplicatedTokens": 3533,
            "percentage": 99.26,
            "percentageTokens": 98.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/seed.ts": {
            "lines": 477,
            "tokens": 4284,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 28,
            "duplicatedTokens": 286,
            "percentage": 5.87,
            "percentageTokens": 6.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/db-config.ts": {
            "lines": 20,
            "tokens": 151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/data-source.ts": {
            "lines": 127,
            "tokens": 1078,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 108,
            "percentage": 6.3,
            "percentageTokens": 10.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/vault.loader.ts": {
            "lines": 198,
            "tokens": 1501,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/finance.config.ts": {
            "lines": 173,
            "tokens": 1184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/env-validation.ts": {
            "lines": 447,
            "tokens": 2979,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/database.config.ts": {
            "lines": 66,
            "tokens": 713,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/auth.config.ts": {
            "lines": 6,
            "tokens": 87,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/constants.ts": {
            "lines": 14,
            "tokens": 95,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/common.module.ts": {
            "lines": 21,
            "tokens": 191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/__mocks__/p-limit.ts": {
            "lines": 7,
            "tokens": 75,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/main.ts": {
            "lines": 245,
            "tokens": 1871,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 366,
            "percentage": 13.88,
            "percentageTokens": 19.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/instrument.ts": {
            "lines": 24,
            "tokens": 178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app.module.ts": {
            "lines": 194,
            "tokens": 1571,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 47725,
          "tokens": 389324,
          "sources": 531,
          "clones": 47,
          "duplicatedLines": 1198,
          "duplicatedTokens": 8638,
          "percentage": 2.51,
          "percentageTokens": 2.22,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "json": {
        "sources": {
          "src/common/i18n/translations/ku.json": {
            "lines": 89,
            "tokens": 567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/i18n/translations/fr.json": {
            "lines": 89,
            "tokens": 567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/i18n/translations/en.json": {
            "lines": 150,
            "tokens": 944,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/common/i18n/translations/ar.json": {
            "lines": 89,
            "tokens": 567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 417,
          "tokens": 2645,
          "sources": 4,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "markdown": {
        "sources": {
          "src/modules/platform/README.md": {
            "lines": 338,
            "tokens": 1996,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/modules/platform/PHASE_2_COMPLETE.md": {
            "lines": 351,
            "tokens": 2523,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 689,
          "tokens": 4519,
          "sources": 2,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 49262,
      "tokens": 400461,
      "sources": 547,
      "clones": 49,
      "duplicatedLines": 1226,
      "duplicatedTokens": 8824,
      "percentage": 2.49,
      "percentageTokens": 2.2,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "}\n\n  async convert(amount: number, from: string, to: string): Promise<number> {\n    const rate = await this.getRate(from, to);\n    return amount * rate;\n  }\n\n  async getAllRates(baseCurrency: string): Promise<Record<string, number>> {\n    const cacheKey",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/finance/services/exchange-rate/api-exchange-rate.service.ts",
        "start": 73,
        "end": 81,
        "startLoc": {
          "line": 73,
          "column": 3,
          "position": 605
        },
        "endLoc": {
          "line": 81,
          "column": 9,
          "position": 700
        }
      },
      "secondFile": {
        "name": "src/modules/finance/services/exchange-rate/mock-exchange-rate.service.ts",
        "start": 46,
        "end": 54,
        "startLoc": {
          "line": 46,
          "column": 3,
          "position": 325
        },
        "endLoc": {
          "line": 54,
          "column": 9,
          "position": 420
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n\n    if (query.role) {\n      qb.andWhere('user.role = :role', { role: query.role });\n    }\n\n    if (query.isActive !== undefined) {\n      qb.andWhere('user.isActive = :isActive', { isActive: query.isActive });\n    }\n\n    if (query.search?.trim()) {\n      qb.andWhere('user.email ILIKE :search', { search: `%${query.search.trim()}%` });\n    }\n\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/users/services/users.service.ts",
        "start": 149,
        "end": 163,
        "startLoc": {
          "line": 149,
          "column": 2,
          "position": 1220
        },
        "endLoc": {
          "line": 163,
          "column": 3,
          "position": 1350
        }
      },
      "secondFile": {
        "name": "src/modules/users/services/users.service.ts",
        "start": 117,
        "end": 131,
        "startLoc": {
          "line": 117,
          "column": 7,
          "position": 927
        },
        "endLoc": {
          "line": 131,
          "column": 3,
          "position": 1057
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "})\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'status', required: false, enum: TaskStatus })\n  @ApiQuery({ name: 'bookingId', required: false, type: String })\n  @ApiQuery({ name: 'assignedUserId', required: false, type: String })\n  @ApiQuery({ name: 'dueDateStart', required: false, type: String })\n  @ApiQuery({ name: 'dueDateEnd', required: false, type: String })\n  @ApiResponse({ status: 200, description: 'Return filtered tasks with cursor pagination'",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 52,
        "end": 60,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 706
        },
        "endLoc": {
          "line": 60,
          "column": 47,
          "position": 906
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 2,
          "position": 357
        },
        "endLoc": {
          "line": 38,
          "column": 45,
          "position": 557
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ");\n\n    const accessToken = this.generateAccessToken(user, session.id);\n    const refreshToken = this.generateRefreshToken(user, session.id);\n    session.sessionTokenHash = this.hashToken(accessToken);\n    session.refreshTokenHash = this.hashToken(refreshToken);\n    await this.sessionRepository.save(session);\n\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/platform/services/platform-auth.service.ts",
        "start": 228,
        "end": 236,
        "startLoc": {
          "line": 228,
          "column": 2,
          "position": 2046
        },
        "endLoc": {
          "line": 236,
          "column": 7,
          "position": 2135
        }
      },
      "secondFile": {
        "name": "src/modules/platform/services/platform-auth.service.ts",
        "start": 137,
        "end": 146,
        "startLoc": {
          "line": 137,
          "column": 11,
          "position": 1176
        },
        "endLoc": {
          "line": 146,
          "column": 5,
          "position": 1266
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n\n    return {\n      accessToken,\n      refreshToken,\n      expiresIn: this.SESSION_DURATION / 1000,\n      user: {\n        id: user.id,\n        email: user.email,\n        fullName: user.fullName,\n        role: user.role,\n      },\n      mfaRequired: false,\n      sessionId: session.id,\n      ...",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/platform/services/platform-auth.service.ts",
        "start": 234,
        "end": 248,
        "startLoc": {
          "line": 234,
          "column": 8,
          "position": 2130
        },
        "endLoc": {
          "line": 248,
          "column": 4,
          "position": 2223
        }
      },
      "secondFile": {
        "name": "src/modules/platform/services/platform-auth.service.ts",
        "start": 156,
        "end": 170,
        "startLoc": {
          "line": 156,
          "column": 2,
          "position": 1364
        },
        "endLoc": {
          "line": 170,
          "column": 2,
          "position": 1457
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ name: 'platform_user_id', type: 'uuid' })\n  platformUserId: string;\n\n  @ManyToOne(() => PlatformUser)\n  @JoinColumn({ name: 'platform_user_id' })\n  platformUser: PlatformUser;\n\n  @Column({ name",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/platform/entities/impersonation-session.entity.ts",
        "start": 15,
        "end": 26,
        "startLoc": {
          "line": 15,
          "column": 2,
          "position": 125
        },
        "endLoc": {
          "line": 26,
          "column": 5,
          "position": 210
        }
      },
      "secondFile": {
        "name": "src/modules/platform/entities/platform-audit-log.entity.ts",
        "start": 14,
        "end": 26,
        "startLoc": {
          "line": 14,
          "column": 2,
          "position": 113
        },
        "endLoc": {
          "line": 26,
          "column": 5,
          "position": 199
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "(@Request() req: AuthenticatedRequest) {\n    const userId: string = req.user.userId;\n    const user = await this.mfaService.getUserById(userId);\n\n    const mfaSetup = await this.mfaService.setupMFA(userId, user.email);\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/platform/controllers/mfa.controller.ts",
        "start": 210,
        "end": 215,
        "startLoc": {
          "line": 210,
          "column": 22,
          "position": 1524
        },
        "endLoc": {
          "line": 215,
          "column": 6,
          "position": 1600
        }
      },
      "secondFile": {
        "name": "src/modules/platform/controllers/mfa.controller.ts",
        "start": 69,
        "end": 75,
        "startLoc": {
          "line": 69,
          "column": 9,
          "position": 461
        },
        "endLoc": {
          "line": 75,
          "column": 63,
          "position": 538
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "},\n    });\n\n    if (!notification) {\n      throw new NotFoundException(`Notification with ID ${notificationId} not found`);\n    }\n\n    if (!notification.read) {\n      notification.read = true;\n      notification.readAt = new Date();\n      await this.notificationRepo.save(notification);\n    }\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/notifications/services/notification.service.ts",
        "start": 123,
        "end": 135,
        "startLoc": {
          "line": 123,
          "column": 2,
          "position": 1165
        },
        "endLoc": {
          "line": 135,
          "column": 2,
          "position": 1256
        }
      },
      "secondFile": {
        "name": "src/modules/notifications/services/notification.service.ts",
        "start": 52,
        "end": 65,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 497
        },
        "endLoc": {
          "line": 65,
          "column": 7,
          "position": 589
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 15,
      "fragment": "<!DOCTYPE html>\n<html dir=\"{{direction}}\">\n\n<head>\n  <meta charset=\"utf-8\">\n  {{> styles}}\n</head>\n\n<body style=\"text-align: {{textAlign}};\">\n  <div class=\"container\">\n    {{> header}}\n\n    <p>Hello {{name}},</p>\n\n    <p>We",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/mail/templates/password-reset.hbs",
        "start": 1,
        "end": 15,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 15,
          "column": 3,
          "position": 93
        }
      },
      "secondFile": {
        "name": "src/modules/mail/templates/partials/action-email.hbs",
        "start": 16,
        "end": 30,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 2
        },
        "endLoc": {
          "line": 30,
          "column": 2,
          "position": 95
        }
      }
    },
    {
      "format": "handlebars",
      "lines": 15,
      "fragment": "<!DOCTYPE html>\n<html dir=\"{{direction}}\">\n\n<head>\n    <meta charset=\"utf-8\">\n    {{> styles}}\n</head>\n\n<body style=\"text-align: {{textAlign}};\">\n    <div class=\"container\">\n        {{> header}}\n\n        <p>Hello {{name}},</p>\n\n        <p>Welcome",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/mail/templates/email-verification.hbs",
        "start": 1,
        "end": 15,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 15,
          "column": 8,
          "position": 93
        }
      },
      "secondFile": {
        "name": "src/modules/mail/templates/partials/action-email.hbs",
        "start": 16,
        "end": 30,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 2
        },
        "endLoc": {
          "line": 30,
          "column": 2,
          "position": 95
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",\n      ipAddress: data.ipAddress,\n      time: data.time.toISOString(),\n      location: data.location,\n    };\n\n    if (!this.emailQueue) {\n      this.logger.warn('Email queue not available, sending directly');\n      if (this.senderService) {\n        await this.senderService.sendSuspiciousActivityAlert",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/mail/services/mail-queue.service.ts",
        "start": 192,
        "end": 201,
        "startLoc": {
          "line": 192,
          "column": 8,
          "position": 1601
        },
        "endLoc": {
          "line": 201,
          "column": 28,
          "position": 1680
        }
      },
      "secondFile": {
        "name": "src/modules/mail/services/mail-queue.service.ts",
        "start": 167,
        "end": 176,
        "startLoc": {
          "line": 167,
          "column": 7,
          "position": 1367
        },
        "endLoc": {
          "line": 176,
          "column": 19,
          "position": 1446
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ";\nimport { Brackets, DataSource, SelectQueryBuilder } from 'typeorm';\nimport { CursorPaginationDto } from '../../../common/dto/cursor-pagination.dto';\nimport { createPaginatedResponse, PaginatedResponseDto } from '../../../common/dto/paginated-response.dto';\nimport { PaginationDto } from '../../../common/dto/pagination.dto';\nimport { TenantContextService } from '../../../common/services/tenant-context.service';\nimport { CursorPaginationHelper } from '../../../common/utils/cursor-pagination.helper';\nimport { TenantScopedManager",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/hr/services/hr.service.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 17,
          "position": 23
        },
        "endLoc": {
          "line": 8,
          "column": 20,
          "position": 116
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/services/tasks.service.ts",
        "start": 3,
        "end": 10,
        "startLoc": {
          "line": 3,
          "column": 10,
          "position": 51
        },
        "endLoc": {
          "line": 10,
          "column": 10,
          "position": 144
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n    deprecated: true,\n  })\n  @ApiQuery({ name: 'page', required: false, type: Number })\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'status', required: false, type",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/hr/controllers/hr.controller.ts",
        "start": 64,
        "end": 70,
        "startLoc": {
          "line": 64,
          "column": 119,
          "position": 613
        },
        "endLoc": {
          "line": 70,
          "column": 5,
          "position": 722
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 27,
        "end": 33,
        "startLoc": {
          "line": 27,
          "column": 125,
          "position": 321
        },
        "endLoc": {
          "line": 33,
          "column": 5,
          "position": 430
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ",\n  })\n  @ApiQuery({ name: 'cursor', required: false, type: String })\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'status', required: false, type",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/hr/controllers/hr.controller.ts",
        "start": 84,
        "end": 89,
        "startLoc": {
          "line": 84,
          "column": 93,
          "position": 916
        },
        "endLoc": {
          "line": 89,
          "column": 5,
          "position": 1018
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 50,
        "end": 55,
        "startLoc": {
          "line": 50,
          "column": 105,
          "position": 677
        },
        "endLoc": {
          "line": 55,
          "column": 5,
          "position": 779
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "})\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'status', required: false, type: String })\n  @ApiQuery({ name: 'department', required: false, type: String })\n  @ApiQuery({ name: 'contractType', required: false, type: String })\n  @ApiResponse({ status: 200, description: 'Return filtered profiles with cursor pagination'",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/hr/controllers/hr.controller.ts",
        "start": 86,
        "end": 92,
        "startLoc": {
          "line": 86,
          "column": 2,
          "position": 945
        },
        "endLoc": {
          "line": 92,
          "column": 50,
          "position": 1093
        }
      },
      "secondFile": {
        "name": "src/modules/hr/controllers/hr.controller.ts",
        "start": 67,
        "end": 73,
        "startLoc": {
          "line": 67,
          "column": 2,
          "position": 649
        },
        "endLoc": {
          "line": 73,
          "column": 48,
          "position": 797
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= 0;\n\n        const tenantLimit = pLimit(FINANCE.BATCH.MAX_CONCURRENCY);\n        await Promise.allSettled(\n          tenants.map((tenant) =>\n            tenantLimit(async () => {\n              await TenantContextService.run(tenant.id, async () => {\n                const stuckPayouts",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/finance/cron/payout-consistency.cron.ts",
        "start": 42,
        "end": 49,
        "startLoc": {
          "line": 42,
          "column": 2,
          "position": 374
        },
        "endLoc": {
          "line": 49,
          "column": 13,
          "position": 452
        }
      },
      "secondFile": {
        "name": "src/modules/hr/services/payroll-reconciliation.service.ts",
        "start": 86,
        "end": 93,
        "startLoc": {
          "line": 86,
          "column": 2,
          "position": 735
        },
        "endLoc": {
          "line": 93,
          "column": 11,
          "position": 813
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "const pdfDoc = await PDFDocument.create();\n    const page = pdfDoc.addPage();\n    const { width, height } = page.getSize();\n    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);\n    const boldFont = await pdfDoc.embedFont(StandardFonts.HelveticaBold);\n    const y",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/dashboard/services/report-generator.service.ts",
        "start": 195,
        "end": 200,
        "startLoc": {
          "line": 195,
          "column": 5,
          "position": 1845
        },
        "endLoc": {
          "line": 200,
          "column": 2,
          "position": 1936
        }
      },
      "secondFile": {
        "name": "src/modules/finance/services/invoice.service.ts",
        "start": 108,
        "end": 114,
        "startLoc": {
          "line": 108,
          "column": 5,
          "position": 949
        },
        "endLoc": {
          "line": 114,
          "column": 9,
          "position": 1041
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n    deprecated: true,\n  })\n  @ApiQuery({ name: 'page', required: false, type: Number })\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'isActive'",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/catalog/controllers/packages.controller.ts",
        "start": 75,
        "end": 81,
        "startLoc": {
          "line": 75,
          "column": 95,
          "position": 518
        },
        "endLoc": {
          "line": 81,
          "column": 11,
          "position": 618
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 27,
        "end": 33,
        "startLoc": {
          "line": 27,
          "column": 125,
          "position": 321
        },
        "endLoc": {
          "line": 33,
          "column": 9,
          "position": 421
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ",\n  })\n  @ApiQuery({ name: 'cursor', required: false, type: String })\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'isActive'",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/catalog/controllers/packages.controller.ts",
        "start": 94,
        "end": 99,
        "startLoc": {
          "line": 94,
          "column": 72,
          "position": 749
        },
        "endLoc": {
          "line": 99,
          "column": 11,
          "position": 842
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 50,
        "end": 55,
        "startLoc": {
          "line": 50,
          "column": 105,
          "position": 677
        },
        "endLoc": {
          "line": 55,
          "column": 9,
          "position": 770
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "})\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'isActive', required: false, type: Boolean })\n  @ApiOkResponse({\n    description: 'Return filtered packages with cursor pagination'",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/catalog/controllers/packages.controller.ts",
        "start": 96,
        "end": 101,
        "startLoc": {
          "line": 96,
          "column": 2,
          "position": 778
        },
        "endLoc": {
          "line": 101,
          "column": 50,
          "position": 869
        }
      },
      "secondFile": {
        "name": "src/modules/catalog/controllers/packages.controller.ts",
        "start": 78,
        "end": 83,
        "startLoc": {
          "line": 78,
          "column": 2,
          "position": 554
        },
        "endLoc": {
          "line": 83,
          "column": 48,
          "position": 645
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "&& savedBooking.packageId) {\n      try {\n        const dateStr = savedBooking.eventDate.toISOString().split('T')[0];\n        const pkgId = savedBooking.packageId as string;\n        if (pkgId) {\n          const pkgIdStr: string = String(pkgId);\n          await this.cacheUtils.del(`availability:${savedBooking",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/bookings/services/bookings.service.ts",
        "start": 386,
        "end": 392,
        "startLoc": {
          "line": 386,
          "column": 2,
          "position": 3594
        },
        "endLoc": {
          "line": 392,
          "column": 13,
          "position": 3684
        }
      },
      "secondFile": {
        "name": "src/modules/bookings/services/bookings.service.ts",
        "start": 124,
        "end": 130,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 1099
        },
        "endLoc": {
          "line": 130,
          "column": 9,
          "position": 1189
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "tenantId}:${pkgIdStr}:${dateStr}`);\n        }\n      } catch (err) {\n        const message = err instanceof Error ? err.message : String(err);\n        this.logger.warn(`Failed to invalidate availability cache: ${message}`);\n      }\n    }\n\n    return savedBooking;\n  }\n\n  async remove",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/bookings/services/bookings.service.ts",
        "start": 392,
        "end": 403,
        "startLoc": {
          "line": 392,
          "column": 2,
          "position": 3686
        },
        "endLoc": {
          "line": 403,
          "column": 7,
          "position": 3776
        }
      },
      "secondFile": {
        "name": "src/modules/bookings/services/bookings.service.ts",
        "start": 130,
        "end": 141,
        "startLoc": {
          "line": 130,
          "column": 3,
          "position": 1189
        },
        "endLoc": {
          "line": 141,
          "column": 8,
          "position": 1279
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ".tenantId}:${pkgIdStr}:${dateStr}`);\n        }\n      } catch (err) {\n        const message = err instanceof Error ? err.message : String(err);\n        this.logger.warn(`Failed to invalidate availability cache: ${message}`);\n      }\n    }\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/bookings/services/bookings.service.ts",
        "start": 416,
        "end": 423,
        "startLoc": {
          "line": 416,
          "column": 8,
          "position": 3953
        },
        "endLoc": {
          "line": 423,
          "column": 2,
          "position": 4031
        }
      },
      "secondFile": {
        "name": "src/modules/bookings/services/bookings.service.ts",
        "start": 392,
        "end": 138,
        "startLoc": {
          "line": 392,
          "column": 13,
          "position": 3685
        },
        "endLoc": {
          "line": 138,
          "column": 7,
          "position": 1267
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", ApiOperation, ApiParam, ApiQuery, ApiResponse, ApiTags } from '@nestjs/swagger';\nimport type { Response } from 'express';\nimport { ApiErrorResponses, CurrentUser, Roles } from '../../../common/decorators';\nimport { CursorPaginationDto } from '../../../common/dto/cursor-pagination.dto';\nimport { RolesGuard } from '../../../common/guards';\nimport { JwtAuthGuard } from '../../auth/guards/jwt-auth.guard';\nimport { User } from '../../users/entities/user.entity';\nimport { Role } from '../../users/enums/role.enum';\nimport {\n  BookingFilterDto",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/bookings/controllers/bookings.controller.ts",
        "start": 15,
        "end": 24,
        "startLoc": {
          "line": 15,
          "column": 8,
          "position": 67
        },
        "endLoc": {
          "line": 24,
          "column": 17,
          "position": 194
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 2,
        "end": 10,
        "startLoc": {
          "line": 2,
          "column": 14,
          "position": 42
        },
        "endLoc": {
          "line": 10,
          "column": 14,
          "position": 168
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ",\n  })\n  @ApiQuery({ name: 'page', required: false, type: Number })\n  @ApiQuery({ name: 'limit', required: false, type: Number })\n  @ApiQuery({ name: 'search', required: false, type: String })\n  @ApiQuery({ name: 'status', required: false, enum: BookingStatus",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/bookings/controllers/bookings.controller.ts",
        "start": 76,
        "end": 81,
        "startLoc": {
          "line": 76,
          "column": 67,
          "position": 625
        },
        "endLoc": {
          "line": 81,
          "column": 14,
          "position": 730
        }
      },
      "secondFile": {
        "name": "src/modules/tasks/controllers/tasks.controller.ts",
        "start": 28,
        "end": 33,
        "startLoc": {
          "line": 28,
          "column": 5,
          "position": 328
        },
        "endLoc": {
          "line": 33,
          "column": 11,
          "position": 433
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const totp = new OTPAuth.TOTP({\n        secret: OTPAuth.Secret.fromBase32(secret),\n        algorithm: 'SHA1',\n        digits: 6,\n        period: 30,\n      });\n      const delta = totp.validate({ token, window: 1 });\n      return delta !== null;\n    } catch (error) {\n      this.logger.debug",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/auth/services/mfa.service.ts",
        "start": 132,
        "end": 141,
        "startLoc": {
          "line": 132,
          "column": 7,
          "position": 1264
        },
        "endLoc": {
          "line": 141,
          "column": 6,
          "position": 1369
        }
      },
      "secondFile": {
        "name": "src/modules/platform/services/mfa.service.ts",
        "start": 77,
        "end": 86,
        "startLoc": {
          "line": 77,
          "column": 7,
          "position": 536
        },
        "endLoc": {
          "line": 86,
          "column": 6,
          "position": 641
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ")\n  @ApiOperation({ summary: 'Get Revenue by Package Report (PDF)' })\n  async getRevenueByPackagePdf(@Query() filter: FinancialReportFilterDto, @Res() res: Response) {\n    const data = await this.analyticsService.getRevenueByPackage(filter);\n    const pdfBytes = await this.reportGeneratorService.generateRevenueByPackagePdf(data);\n\n    PdfUtils.sendPdfResponse(res, pdfBytes, 'revenue_by_package.pdf');\n  }\n\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/analytics/controllers/analytics.controller.ts",
        "start": 34,
        "end": 43,
        "startLoc": {
          "line": 34,
          "column": 12,
          "position": 360
        },
        "endLoc": {
          "line": 43,
          "column": 2,
          "position": 464
        }
      },
      "secondFile": {
        "name": "src/modules/finance/controllers/financial-report.controller.ts",
        "start": 49,
        "end": 57,
        "startLoc": {
          "line": 49,
          "column": 25,
          "position": 511
        },
        "endLoc": {
          "line": 57,
          "column": 2,
          "position": 613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "(@Headers('x-health-key') key?: string) {\n    this.validateRestrictedHealthAccess(key);\n    return this.health.check([\n      ...this.getBasicChecks(),\n      () => this.s3.isHealthy('storage_s3'),\n      () => this.smtp.isHealthy('email_smtp'),\n      (",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/health/health.controller.ts",
        "start": 91,
        "end": 97,
        "startLoc": {
          "line": 91,
          "column": 11,
          "position": 757
        },
        "endLoc": {
          "line": 97,
          "column": 2,
          "position": 835
        }
      },
      "secondFile": {
        "name": "src/modules/health/health.controller.ts",
        "start": 51,
        "end": 57,
        "startLoc": {
          "line": 51,
          "column": 14,
          "position": 435
        },
        "endLoc": {
          "line": 57,
          "column": 2,
          "position": 513
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ");\n    }\n\n    const keyBuffer = Buffer.from(key);\n    const secretBuffer = Buffer.from(secretKey);\n    const sameLength = keyBuffer.length === secretBuffer.length;\n    const valid = sameLength && timingSafeEqual(keyBuffer, secretBuffer);\n\n    if (!valid) {\n      throw new HttpException('health.invalid_key', HttpStatus.UNAUTHORIZED);\n    }\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/health/health.controller.ts",
        "start": 159,
        "end": 170,
        "startLoc": {
          "line": 159,
          "column": 13,
          "position": 1490
        },
        "endLoc": {
          "line": 170,
          "column": 2,
          "position": 1596
        }
      },
      "secondFile": {
        "name": "src/modules/health/health.controller.ts",
        "start": 130,
        "end": 142,
        "startLoc": {
          "line": 130,
          "column": 12,
          "position": 1225
        },
        "endLoc": {
          "line": 142,
          "column": 43,
          "position": 1332
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": ": [\n    AdminModule,\n    AuthModule,\n    UsersModule,\n    CatalogModule,\n    BookingsModule,\n    ReviewsModule,\n    TasksModule,\n    FinanceModule,\n    HrModule,\n    MailModule,\n    NotificationsModule,\n    DashboardModule,\n    AuditModule,\n    MediaModule,\n    HealthModule,\n    AnalyticsModule,\n    TenantsModule,\n    WebhooksModule,\n    MetricsModule,\n    ClientPortalModule,\n    PrivacyModule,\n    BillingModule,\n    PlatformModule,\n  ],\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/core/core.module.ts",
        "start": 52,
        "end": 77,
        "startLoc": {
          "line": 52,
          "column": 8,
          "position": 422
        },
        "endLoc": {
          "line": 77,
          "column": 2,
          "position": 522
        }
      },
      "secondFile": {
        "name": "src/modules/core/core.module.ts",
        "start": 27,
        "end": 52,
        "startLoc": {
          "line": 27,
          "column": 8,
          "position": 320
        },
        "endLoc": {
          "line": 52,
          "column": 8,
          "position": 421
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ");\n  }\n\n  private mapListingSummary(\n    servicePackage: ServicePackage,\n    tenant: Tenant,\n    rating: number,\n    reviewCount = 0,\n  ): ClientPortalListingSummaryDto {\n    return {\n      id: servicePackage.id,\n      title: servicePackage.name,\n      shortDescription: servicePackage.description ?? '',\n      location: tenant.address ?? undefined,\n      priceFrom: Number(servicePackage.price),\n      currency: tenant.baseCurrency,\n      rating,\n      reviewCount,\n      imageUrl: undefined,\n      tags: (servicePackage.packageItems ?? []).map((item) => item.taskType?.name).filter(Boolean) as string[],\n    };\n  }\n\n  private",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/client-portal/client-portal.controller.ts",
        "start": 616,
        "end": 639,
        "startLoc": {
          "line": 616,
          "column": 11,
          "position": 6648
        },
        "endLoc": {
          "line": 639,
          "column": 8,
          "position": 6838
        }
      },
      "secondFile": {
        "name": "src/modules/client-portal/services/client-portal.service.ts",
        "start": 303,
        "end": 325,
        "startLoc": {
          "line": 303,
          "column": 2,
          "position": 3217
        },
        "endLoc": {
          "line": 325,
          "column": 2,
          "position": 3405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n      (userId, userAgent, ipAddress, userEmail) => {\n        this.sessionService.checkNewDevice(userId, userAgent, ipAddress, userEmail).catch((error) => {\n          const message = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Unknown error';\n          this.logger.error(`New device check failed: ${message}`);\n        });\n      },",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/auth/auth.service.ts",
        "start": 396,
        "end": 402,
        "startLoc": {
          "line": 396,
          "column": 11,
          "position": 3877
        },
        "endLoc": {
          "line": 402,
          "column": 2,
          "position": 3986
        }
      },
      "secondFile": {
        "name": "src/modules/auth/auth.service.ts",
        "start": 282,
        "end": 287,
        "startLoc": {
          "line": 282,
          "column": 6,
          "position": 2793
        },
        "endLoc": {
          "line": 287,
          "column": 2,
          "position": 2901
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ".email);\n\n      if (context?.ipAddress) {\n        this.sessionService.checkSuspiciousActivity(user.id, context.ipAddress, user.email).catch((error) => {\n          const message = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Unknown error';\n          this.logger.error(`Suspicious activity check failed: ${message}`);\n        });\n      }\n\n      return this.generateAuthResponse(user, context, tempPayload",
      "tokens": 0,
      "firstFile": {
        "name": "src/modules/auth/auth.service.ts",
        "start": 462,
        "end": 471,
        "startLoc": {
          "line": 462,
          "column": 5,
          "position": 4535
        },
        "endLoc": {
          "line": 471,
          "column": 12,
          "position": 4660
        }
      },
      "secondFile": {
        "name": "src/modules/auth/auth.service.ts",
        "start": 157,
        "end": 166,
        "startLoc": {
          "line": 157,
          "column": 9,
          "position": 1496
        },
        "endLoc": {
          "line": 166,
          "column": 9,
          "position": 1621
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ";\n\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    const duplicates = (await queryRunner.query(\n      `\n        SELECT email, COUNT(*)::text AS cnt\n        FROM users\n        WHERE deleted_at IS NULL\n        GROUP BY email\n        HAVING COUNT(*) > 1\n      `,\n    )) as Array<{ email: string; cnt: string }>;\n\n    if (duplicates.length > 0) {\n      const sample = duplicates\n        .slice(0, 10)\n        .map((d) => `${d.email} (count=${d.cnt})`)\n        .join(', ');\n      throw new Error(`Cannot enforce global-unique emails: duplicates exist. Sample: ${sample}`);\n    }\n\n    // Drop any unique composite indexes on (tenant_id, email)",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/1770200000000-GlobalUniqueUserEmail.ts",
        "start": 4,
        "end": 25,
        "startLoc": {
          "line": 4,
          "column": 37,
          "position": 35
        },
        "endLoc": {
          "line": 25,
          "column": 59,
          "position": 191
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20260125000000-EnforceGlobalUniqueUserEmail.ts",
        "start": 4,
        "end": 25,
        "startLoc": {
          "line": 4,
          "column": 45,
          "position": 35
        },
        "endLoc": {
          "line": 25,
          "column": 6,
          "position": 191
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n    )) as Array<{ email: string; cnt: string }>;\n\n    if (duplicates.length > 0) {\n      const sample = duplicates\n        .slice(0, 10)\n        .map((d) => `${d.email} (count=${d.cnt})`)\n        .join(', ');\n      throw new Error(`Cannot enforce global-unique emails: duplicates exist. Sample: ${sample}`);\n    }\n\n    // Drop any unique composite indexes on (email, tenant_id)",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/migrations/1767273600000-GlobalUniqueUserEmail.ts",
        "start": 16,
        "end": 27,
        "startLoc": {
          "line": 16,
          "column": 10,
          "position": 82
        },
        "endLoc": {
          "line": 27,
          "column": 59,
          "position": 197
        }
      },
      "secondFile": {
        "name": "src/database/migrations/20260125000000-EnforceGlobalUniqueUserEmail.ts",
        "start": 14,
        "end": 25,
        "startLoc": {
          "line": 14,
          "column": 8,
          "position": 76
        },
        "endLoc": {
          "line": 25,
          "column": 6,
          "position": 191
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ");\n      await queryRunner.commitTransaction();\n      return result;\n    } catch (error) {\n      if (queryRunner.isTransactionActive) {\n        await queryRunner.rollbackTransaction();\n        this.logger.warn(\n          `Transaction rolled back for tenant ${tenantId}: ${error instanceof Error ? error.message : String(error)}`,\n        );\n      }\n      throw error;\n    } finally {\n      await queryRunner.release();\n    }\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/utils/tenant-scoped-manager.ts",
        "start": 105,
        "end": 120,
        "startLoc": {
          "line": 105,
          "column": 12,
          "position": 467
        },
        "endLoc": {
          "line": 120,
          "column": 2,
          "position": 588
        }
      },
      "secondFile": {
        "name": "src/common/utils/tenant-scoped-manager.ts",
        "start": 66,
        "end": 85,
        "startLoc": {
          "line": 66,
          "column": 8,
          "position": 212
        },
        "endLoc": {
          "line": 85,
          "column": 6,
          "position": 335
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ": ValueTransformer = {\n  to(value: number | null | undefined): string | null {\n    if (value === null || value === undefined) {\n      return null;\n    }\n\n    if (typeof value !== 'number' || !Number.isFinite(value)) {\n      throw new Error(`Invalid exchange rate value: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/transformers/decimal.transformer.ts",
        "start": 133,
        "end": 140,
        "startLoc": {
          "line": 133,
          "column": 24,
          "position": 828
        },
        "endLoc": {
          "line": 140,
          "column": 31,
          "position": 925
        }
      },
      "secondFile": {
        "name": "src/common/transformers/decimal.transformer.ts",
        "start": 92,
        "end": 99,
        "startLoc": {
          "line": 92,
          "column": 19,
          "position": 471
        },
        "endLoc": {
          "line": 99,
          "column": 28,
          "position": 568
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ");\n  },\n\n  from(value: string | number | null | undefined): number | null {\n    if (value === null || value === undefined) {\n      return null;\n    }\n\n    if (typeof value === 'number') {\n      return Number.isFinite(value) ? value : 1",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/transformers/decimal.transformer.ts",
        "start": 148,
        "end": 157,
        "startLoc": {
          "line": 148,
          "column": 2,
          "position": 994
        },
        "endLoc": {
          "line": 157,
          "column": 2,
          "position": 1094
        }
      },
      "secondFile": {
        "name": "src/common/transformers/decimal.transformer.ts",
        "start": 107,
        "end": 116,
        "startLoc": {
          "line": 107,
          "column": 2,
          "position": 637
        },
        "endLoc": {
          "line": 116,
          "column": 2,
          "position": 737
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "if (entity.tenantId !== tenantId) {\n      throw new TenantMismatchException({\n        contextTenantId: tenantId,\n        entityTenantId: entity.tenantId,\n        operation,\n        entityType: this.entityName,\n        entityId: (entity as unknown as { id?: string }).id,\n      });\n    }\n  }\n\n  /**\n   * Find one entity by ID with tenant validation.\n   * Throws TenantMismatchException if entity exists but belongs to different tenant.\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/repositories/tenant-aware.repository.ts",
        "start": 321,
        "end": 335,
        "startLoc": {
          "line": 321,
          "column": 5,
          "position": 2773
        },
        "endLoc": {
          "line": 335,
          "column": 6,
          "position": 2865
        }
      },
      "secondFile": {
        "name": "src/common/repositories/tenant-aware.repository.ts",
        "start": 244,
        "end": 255,
        "startLoc": {
          "line": 244,
          "column": 2,
          "position": 2223
        },
        "endLoc": {
          "line": 255,
          "column": 8,
          "position": 2315
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\n\n  @ApiPropertyOptional({\n    description: 'Number of items to return',\n    minimum: 1,\n    maximum: 100,\n    default: 20,\n  })\n  @IsOptional()\n  @Type(() => Number)\n  @IsInt()\n  @Min(1)\n  @Max(100)\n  limit?: number = 20;\n\n  @",
      "tokens": 0,
      "firstFile": {
        "name": "src/common/dto/combined-pagination.dto.ts",
        "start": 42,
        "end": 57,
        "startLoc": {
          "line": 42,
          "column": 2,
          "position": 235
        },
        "endLoc": {
          "line": 57,
          "column": 2,
          "position": 328
        }
      },
      "secondFile": {
        "name": "src/common/dto/cursor-pagination.dto.ts",
        "start": 21,
        "end": 35,
        "startLoc": {
          "line": 21,
          "column": 7,
          "position": 97
        },
        "endLoc": {
          "line": 35,
          "column": 2,
          "position": 188
        }
      }
    },
    {
      "format": "typescript",
      "lines": 122,
      "fragment": "implements MigrationInterface {\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    await queryRunner.createTable(\n      new Table({\n        name: 'notifications',\n        columns: [\n          {\n            name: 'id',\n            type: 'uuid',\n            isPrimary: true,\n            generationStrategy: 'uuid',\n            default: 'uuid_generate_v4()',\n          },\n          {\n            name: 'tenant_id',\n            type: 'uuid',\n            isNullable: false,\n          },\n          {\n            name: 'user_id',\n            type: 'uuid',\n            isNullable: false,\n          },\n          {\n            name: 'notification_type',\n            type: 'enum',\n            enum: [\n              'BOOKING_CREATED',\n              'BOOKING_UPDATED',\n              'BOOKING_CANCELLED',\n              'TASK_ASSIGNED',\n              'TASK_COMPLETED',\n              'PAYMENT_RECEIVED',\n              'SYSTEM_ALERT',\n            ],\n            isNullable: false,\n          },\n          {\n            name: 'title',\n            type: 'varchar',\n            isNullable: false,\n          },\n          {\n            name: 'message',\n            type: 'text',\n            isNullable: false,\n          },\n          {\n            name: 'metadata',\n            type: 'jsonb',\n            isNullable: true,\n          },\n          {\n            name: 'read',\n            type: 'boolean',\n            default: false,\n          },\n          {\n            name: 'read_at',\n            type: 'timestamptz',\n            isNullable: true,\n          },\n          {\n            name: 'action_url',\n            type: 'varchar',\n            isNullable: true,\n          },\n          {\n            name: 'created_at',\n            type: 'timestamptz',\n            default: 'now()',\n          },\n          {\n            name: 'updated_at',\n            type: 'timestamptz',\n            default: 'now()',\n          },\n        ],\n        foreignKeys: [\n          {\n            columnNames: ['user_id'],\n            referencedTableName: 'users',\n            referencedColumnNames: ['id'],\n            onDelete: 'CASCADE',\n          },\n        ],\n      }),\n      true,\n    );\n\n    // Create index on tenant_id for multi-tenancy\n    await queryRunner.createIndex(\n      'notifications',\n      new TableIndex({\n        name: 'IDX_notifications_tenant_id',\n        columnNames: ['tenant_id'],\n      }),\n    );\n\n    // Create composite index for userId and read status\n    await queryRunner.createIndex(\n      'notifications',\n      new TableIndex({\n        name: 'IDX_notifications_user_id_read',\n        columnNames: ['user_id', 'read'],\n      }),\n    );\n\n    // Create composite index for userId and createdAt for efficient sorting\n    await queryRunner.createIndex(\n      'notifications',\n      new TableIndex({\n        name: 'IDX_notifications_user_id_created_at',\n        columnNames: ['user_id', 'created_at'],\n      }),\n    );\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    await queryRunner.dropTable('notifications', true);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/1738451200000-CreateNotificationsTable.ts",
        "start": 3,
        "end": 124,
        "startLoc": {
          "line": 3,
          "column": 2,
          "position": 29
        },
        "endLoc": {
          "line": 124,
          "column": 2,
          "position": 730
        }
      },
      "secondFile": {
        "name": "src/database/migrations/1770450000000-CreateNotificationsTable.ts",
        "start": 3,
        "end": 124,
        "startLoc": {
          "line": 3,
          "column": 2,
          "position": 29
        },
        "endLoc": {
          "line": 124,
          "column": 2,
          "position": 730
        }
      }
    },
    {
      "format": "typescript",
      "lines": 117,
      "fragment": "await queryRunner.createTable(\n      new Table({\n        name: 'platform_users',\n        columns: [\n          {\n            name: 'id',\n            type: 'uuid',\n            isPrimary: true,\n            generationStrategy: 'uuid',\n            default: 'uuid_generate_v4()',\n          },\n          {\n            name: 'email',\n            type: 'varchar',\n            length: '255',\n            isUnique: true,\n          },\n          {\n            name: 'full_name',\n            type: 'varchar',\n            length: '255',\n          },\n          {\n            name: 'password_hash',\n            type: 'varchar',\n            length: '255',\n          },\n          {\n            name: 'role',\n            type: 'varchar',\n            length: '50',\n            default: \"'ANALYTICS_VIEWER'\",\n          },\n          {\n            name: 'status',\n            type: 'varchar',\n            length: '20',\n            default: \"'active'\",\n          },\n          {\n            name: 'mfa_enabled',\n            type: 'boolean',\n            default: false,\n          },\n          {\n            name: 'mfa_secret',\n            type: 'varchar',\n            length: '255',\n            isNullable: true,\n          },\n          {\n            name: 'mfa_recovery_codes',\n            type: 'json',\n            isNullable: true,\n          },\n          {\n            name: 'last_login_at',\n            type: 'timestamp',\n            isNullable: true,\n          },\n          {\n            name: 'last_login_ip',\n            type: 'varchar',\n            length: '45',\n            isNullable: true,\n          },\n          {\n            name: 'ip_allowlist',\n            type: 'json',\n            isNullable: true,\n          },\n          {\n            name: 'trusted_devices',\n            type: 'json',\n            isNullable: true,\n          },\n          {\n            name: 'failed_login_attempts',\n            type: 'int',\n            default: 0,\n          },\n          {\n            name: 'locked_until',\n            type: 'timestamp',\n            isNullable: true,\n          },\n          {\n            name: 'must_change_password',\n            type: 'boolean',\n            default: false,\n          },\n          {\n            name: 'password_changed_at',\n            type: 'timestamp',\n            isNullable: true,\n          },\n          {\n            name: 'created_at',\n            type: 'timestamp',\n            default: 'now()',\n          },\n          {\n            name: 'updated_at',\n            type: 'timestamp',\n            default: 'now()',\n          },\n          {\n            name: 'deleted_at',\n            type: 'timestamp',\n            isNullable: true,\n          },\n        ],\n      }),\n      true,\n    );\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 6,
        "end": 122,
        "startLoc": {
          "line": 6,
          "column": 5,
          "position": 63
        },
        "endLoc": {
          "line": 122,
          "column": 6,
          "position": 718
        }
      },
      "secondFile": {
        "name": "src/database/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 7,
        "end": 122,
        "startLoc": {
          "line": 7,
          "column": 7,
          "position": 82
        },
        "endLoc": {
          "line": 122,
          "column": 2,
          "position": 736
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "await queryRunner.createIndex(\n      'platform_users',\n      new TableIndex({\n        name: 'IDX_platform_users_email',\n        columnNames: ['email'],\n        isUnique: true,\n        where: 'deleted_at IS NULL',\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'platform_users',\n      new TableIndex({\n        name: 'IDX_platform_users_status_created',\n        columnNames: ['status', 'created_at'],\n      }),\n    );\n\n    // Create platform_sessions table\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 122,
        "end": 141,
        "startLoc": {
          "line": 122,
          "column": 5,
          "position": 718
        },
        "endLoc": {
          "line": 141,
          "column": 6,
          "position": 828
        }
      },
      "secondFile": {
        "name": "src/database/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 124,
        "end": 143,
        "startLoc": {
          "line": 124,
          "column": 5,
          "position": 740
        },
        "endLoc": {
          "line": 143,
          "column": 3,
          "position": 850
        }
      }
    },
    {
      "format": "typescript",
      "lines": 98,
      "fragment": "await queryRunner.createTable(\n      new Table({\n        name: 'platform_sessions',\n        columns: [\n          {\n            name: 'id',\n            type: 'uuid',\n            isPrimary: true,\n            generationStrategy: 'uuid',\n            default: 'uuid_generate_v4()',\n          },\n          {\n            name: 'user_id',\n            type: 'uuid',\n          },\n          {\n            name: 'session_token',\n            type: 'varchar',\n            length: '255',\n            isUnique: true,\n          },\n          {\n            name: 'refresh_token',\n            type: 'varchar',\n            length: '255',\n            isNullable: true,\n          },\n          {\n            name: 'ip_address',\n            type: 'varchar',\n            length: '45',\n          },\n          {\n            name: 'user_agent',\n            type: 'text',\n          },\n          {\n            name: 'device_id',\n            type: 'varchar',\n            length: '255',\n            isNullable: true,\n          },\n          {\n            name: 'device_name',\n            type: 'varchar',\n            length: '255',\n            isNullable: true,\n          },\n          {\n            name: 'mfa_verified',\n            type: 'boolean',\n            default: false,\n          },\n          {\n            name: 'mfa_verified_at',\n            type: 'timestamp',\n            isNullable: true,\n          },\n          {\n            name: 'created_at',\n            type: 'timestamp',\n            default: 'now()',\n          },\n          {\n            name: 'expires_at',\n            type: 'timestamp',\n          },\n          {\n            name: 'last_activity_at',\n            type: 'timestamp',\n          },\n          {\n            name: 'is_revoked',\n            type: 'boolean',\n            default: false,\n          },\n          {\n            name: 'revoked_at',\n            type: 'timestamp',\n            isNullable: true,\n          },\n          {\n            name: 'revoked_by',\n            type: 'uuid',\n            isNullable: true,\n          },\n          {\n            name: 'revoked_reason',\n            type: 'varchar',\n            length: '500',\n            isNullable: true,\n          },\n        ],\n      }),\n      true,\n    );\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 141,
        "end": 238,
        "startLoc": {
          "line": 141,
          "column": 5,
          "position": 828
        },
        "endLoc": {
          "line": 238,
          "column": 6,
          "position": 1371
        }
      },
      "secondFile": {
        "name": "src/database/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 144,
        "end": 240,
        "startLoc": {
          "line": 144,
          "column": 7,
          "position": 869
        },
        "endLoc": {
          "line": 240,
          "column": 2,
          "position": 1411
        }
      }
    },
    {
      "format": "typescript",
      "lines": 396,
      "fragment": "await queryRunner.createForeignKey(\n      'platform_sessions',\n      new TableForeignKey({\n        columnNames: ['user_id'],\n        referencedTableName: 'platform_users',\n        referencedColumnNames: ['id'],\n        onDelete: 'CASCADE',\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'platform_sessions',\n      new TableIndex({\n        name: 'IDX_platform_sessions_user_expires',\n        columnNames: ['user_id', 'expires_at'],\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'platform_sessions',\n      new TableIndex({\n        name: 'IDX_platform_sessions_revoked_expires',\n        columnNames: ['is_revoked', 'expires_at'],\n      }),\n    );\n\n    // Create platform_audit_logs table\n    await queryRunner.createTable(\n      new Table({\n        name: 'platform_audit_logs',\n        columns: [\n          {\n            name: 'id',\n            type: 'uuid',\n            isPrimary: true,\n            generationStrategy: 'uuid',\n            default: 'uuid_generate_v4()',\n          },\n          {\n            name: 'platform_user_id',\n            type: 'uuid',\n          },\n          {\n            name: 'action',\n            type: 'varchar',\n            length: '100',\n          },\n          {\n            name: 'target_tenant_id',\n            type: 'uuid',\n            isNullable: true,\n          },\n          {\n            name: 'target_user_id',\n            type: 'uuid',\n            isNullable: true,\n          },\n          {\n            name: 'target_entity_type',\n            type: 'varchar',\n            length: '100',\n            isNullable: true,\n          },\n          {\n            name: 'target_entity_id',\n            type: 'varchar',\n            length: '255',\n            isNullable: true,\n          },\n          {\n            name: 'reason',\n            type: 'text',\n            isNullable: true,\n          },\n          {\n            name: 'ip_address',\n            type: 'varchar',\n            length: '45',\n          },\n          {\n            name: 'user_agent',\n            type: 'text',\n            isNullable: true,\n          },\n          {\n            name: 'request_id',\n            type: 'varchar',\n            length: '255',\n            isNullable: true,\n          },\n          {\n            name: 'changes_before',\n            type: 'jsonb',\n            isNullable: true,\n          },\n          {\n            name: 'changes_after',\n            type: 'jsonb',\n            isNullable: true,\n          },\n          {\n            name: 'success',\n            type: 'boolean',\n            default: true,\n          },\n          {\n            name: 'error_message',\n            type: 'text',\n            isNullable: true,\n          },\n          {\n            name: 'performed_at',\n            type: 'timestamp',\n            default: 'now()',\n          },\n          {\n            name: 'additional_context',\n            type: 'jsonb',\n            isNullable: true,\n          },\n        ],\n      }),\n      true,\n    );\n\n    await queryRunner.createForeignKey(\n      'platform_audit_logs',\n      new TableForeignKey({\n        columnNames: ['platform_user_id'],\n        referencedTableName: 'platform_users',\n        referencedColumnNames: ['id'],\n        onDelete: 'CASCADE',\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'platform_audit_logs',\n      new TableIndex({\n        name: 'IDX_platform_audit_user_performed',\n        columnNames: ['platform_user_id', 'performed_at'],\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'platform_audit_logs',\n      new TableIndex({\n        name: 'IDX_platform_audit_action_performed',\n        columnNames: ['action', 'performed_at'],\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'platform_audit_logs',\n      new TableIndex({\n        name: 'IDX_platform_audit_tenant_performed',\n        columnNames: ['target_tenant_id', 'performed_at'],\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'platform_audit_logs',\n      new TableIndex({\n        name: 'IDX_platform_audit_performed',\n        columnNames: ['performed_at'],\n      }),\n    );\n\n    // Create impersonation_sessions table\n    await queryRunner.createTable(\n      new Table({\n        name: 'impersonation_sessions',\n        columns: [\n          {\n            name: 'id',\n            type: 'uuid',\n            isPrimary: true,\n            generationStrategy: 'uuid',\n            default: 'uuid_generate_v4()',\n          },\n          {\n            name: 'platform_user_id',\n            type: 'uuid',\n          },\n          {\n            name: 'tenant_id',\n            type: 'uuid',\n          },\n          {\n            name: 'target_user_id',\n            type: 'uuid',\n          },\n          {\n            name: 'target_user_email',\n            type: 'varchar',\n            length: '255',\n          },\n          {\n            name: 'reason',\n            type: 'text',\n          },\n          {\n            name: 'approval_ticket_id',\n            type: 'varchar',\n            length: '255',\n            isNullable: true,\n          },\n          {\n            name: 'session_token',\n            type: 'varchar',\n            length: '255',\n            isUnique: true,\n          },\n          {\n            name: 'started_at',\n            type: 'timestamp',\n            default: 'now()',\n          },\n          {\n            name: 'ended_at',\n            type: 'timestamp',\n            isNullable: true,\n          },\n          {\n            name: 'ip_address',\n            type: 'varchar',\n            length: '45',\n          },\n          {\n            name: 'user_agent',\n            type: 'text',\n          },\n          {\n            name: 'actions_performed',\n            type: 'jsonb',\n            default: \"'[]'\",\n          },\n          {\n            name: 'is_active',\n            type: 'boolean',\n            default: true,\n          },\n          {\n            name: 'ended_by',\n            type: 'uuid',\n            isNullable: true,\n          },\n          {\n            name: 'end_reason',\n            type: 'varchar',\n            length: '500',\n            isNullable: true,\n          },\n        ],\n      }),\n      true,\n    );\n\n    await queryRunner.createForeignKey(\n      'impersonation_sessions',\n      new TableForeignKey({\n        columnNames: ['platform_user_id'],\n        referencedTableName: 'platform_users',\n        referencedColumnNames: ['id'],\n        onDelete: 'CASCADE',\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'impersonation_sessions',\n      new TableIndex({\n        name: 'IDX_impersonation_platform_user_started',\n        columnNames: ['platform_user_id', 'started_at'],\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'impersonation_sessions',\n      new TableIndex({\n        name: 'IDX_impersonation_tenant_target',\n        columnNames: ['tenant_id', 'target_user_id'],\n      }),\n    );\n\n    await queryRunner.createIndex(\n      'impersonation_sessions',\n      new TableIndex({\n        name: 'IDX_impersonation_started_ended',\n        columnNames: ['started_at', 'ended_at'],\n      }),\n    );\n\n    // Create tenant_lifecycle_events table\n    await queryRunner.createTable(\n      new Table({\n        name: 'tenant_lifecycle_events',\n        columns: [\n          {\n            name: 'id',\n            type: 'uuid',\n            isPrimary: true,\n            generationStrategy: 'uuid',\n            default: 'uuid_generate_v4()',\n          },\n          {\n            name: 'tenant_id',\n            type: 'uuid',\n          },\n          {\n            name: 'event_type',\n            type: 'varchar',\n            length: '100',\n          },\n          {\n            name: 'triggered_by',\n            type: 'uuid',\n            isNullable: true,\n          },\n          {\n            name: 'triggered_by_type',\n            type: 'varchar',\n            length: '50',\n          },\n          {\n            name: 'reason',\n            type: 'text',\n            isNullable: true,\n          },\n          {\n            name: 'previous_state',\n            type: 'jsonb',\n            isNullable: true,\n          },\n          {\n            name: 'new_state',\n            type: 'jsonb',\n            isNullable: true,\n          },\n          {\n            name: 'occurred_at',\n            type: 'timestamp',\n            default: 'now()',\n          },\n          {\n            name: 'metadata',\n            type: 'jsonb',\n            isNullable: true,\n          },\n        ],\n      }),\n      true,\n    );\n\n    await queryRunner.createIndex(\n      'tenant_lifecycle_events',\n      new TableIndex({\n        name: 'IDX_lifecycle_tenant_type_occurred',\n        columnNames: ['tenant_id', 'event_type', 'occurred_at'],\n      }),\n    );\n\n    // Add new columns to tenants table\n    await queryRunner.query(`\n      ALTER TABLE tenants \n      ADD COLUMN IF NOT EXISTS subscription_tier VARCHAR(50),\n      ADD COLUMN IF NOT EXISTS stripe_customer_id VARCHAR(255),\n      ADD COLUMN IF NOT EXISTS stripe_subscription_id VARCHAR(255),\n      ADD COLUMN IF NOT EXISTS billing_email VARCHAR(255),\n      ADD COLUMN IF NOT EXISTS subscription_started_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS subscription_ends_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS trial_ends_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS suspended_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS suspended_by UUID,\n      ADD COLUMN IF NOT EXISTS suspension_reason TEXT,\n      ADD COLUMN IF NOT EXISTS grace_period_ends_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS deletion_scheduled_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS last_activity_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS total_users INTEGER DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS total_bookings INTEGER DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS total_revenue DECIMAL(12, 2) DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS mrr DECIMAL(10, 2) DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS risk_score DECIMAL(3, 2) DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS health_score DECIMAL(3, 2) DEFAULT 1,\n      ADD COLUMN IF NOT EXISTS compliance_flags JSON DEFAULT '[]',\n      ADD COLUMN IF NOT EXISTS security_policies JSONB,\n      ADD COLUMN IF NOT EXISTS custom_rate_limits JSONB,\n      ADD COLUMN IF NOT EXISTS feature_flags JSONB DEFAULT '{}',\n      ADD COLUMN IF NOT EXISTS metadata JSONB\n    `);\n\n    // Create indexes for tenant platform fields\n    await queryRunner.query(`\n      CREATE INDEX IF NOT EXISTS idx_tenants_status_created ON tenants(status, created_at DESC);\n      CREATE INDEX IF NOT EXISTS idx_tenants_subscription ON tenants(subscription_plan, status);\n      CREATE INDEX IF NOT EXISTS idx_tenants_risk ON tenants(risk_score DESC) WHERE risk_score > 0.5;\n      CREATE INDEX IF NOT EXISTS idx_tenants_activity ON tenants(last_activity_at DESC);\n    `",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 238,
        "end": 633,
        "startLoc": {
          "line": 238,
          "column": 5,
          "position": 1371
        },
        "endLoc": {
          "line": 633,
          "column": 6,
          "position": 3444
        }
      },
      "secondFile": {
        "name": "src/database/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 242,
        "end": 639,
        "startLoc": {
          "line": 242,
          "column": 5,
          "position": 1415
        },
        "endLoc": {
          "line": 639,
          "column": 6,
          "position": 3488
        }
      }
    },
    {
      "format": "typescript",
      "lines": 47,
      "fragment": ");\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    // Drop indexes\n    await queryRunner.query(`DROP INDEX IF EXISTS idx_tenants_activity`);\n    await queryRunner.query(`DROP INDEX IF EXISTS idx_tenants_risk`);\n    await queryRunner.query(`DROP INDEX IF EXISTS idx_tenants_subscription`);\n    await queryRunner.query(`DROP INDEX IF EXISTS idx_tenants_status_created`);\n\n    // Remove columns from tenants\n    await queryRunner.query(`\n      ALTER TABLE tenants \n      DROP COLUMN IF EXISTS subscription_tier,\n      DROP COLUMN IF EXISTS stripe_customer_id,\n      DROP COLUMN IF EXISTS stripe_subscription_id,\n      DROP COLUMN IF EXISTS billing_email,\n      DROP COLUMN IF EXISTS subscription_started_at,\n      DROP COLUMN IF EXISTS subscription_ends_at,\n      DROP COLUMN IF EXISTS trial_ends_at,\n      DROP COLUMN IF EXISTS suspended_at,\n      DROP COLUMN IF EXISTS suspended_by,\n      DROP COLUMN IF EXISTS suspension_reason,\n      DROP COLUMN IF EXISTS grace_period_ends_at,\n      DROP COLUMN IF EXISTS deletion_scheduled_at,\n      DROP COLUMN IF EXISTS last_activity_at,\n      DROP COLUMN IF EXISTS total_users,\n      DROP COLUMN IF EXISTS total_bookings,\n      DROP COLUMN IF EXISTS total_revenue,\n      DROP COLUMN IF EXISTS mrr,\n      DROP COLUMN IF EXISTS risk_score,\n      DROP COLUMN IF EXISTS health_score,\n      DROP COLUMN IF EXISTS compliance_flags,\n      DROP COLUMN IF EXISTS security_policies,\n      DROP COLUMN IF EXISTS custom_rate_limits,\n      DROP COLUMN IF EXISTS feature_flags,\n      DROP COLUMN IF EXISTS metadata\n    `);\n\n    // Drop tables in reverse order\n    await queryRunner.dropTable('tenant_lifecycle_events');\n    await queryRunner.dropTable('impersonation_sessions');\n    await queryRunner.dropTable('platform_audit_logs');\n    await queryRunner.dropTable('platform_sessions');\n    await queryRunner.dropTable('platform_users');\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 633,
        "end": 679,
        "startLoc": {
          "line": 633,
          "column": 6,
          "position": 3445
        },
        "endLoc": {
          "line": 679,
          "column": 2,
          "position": 3597
        }
      },
      "secondFile": {
        "name": "src/database/migrations/1737241200000-CreatePlatformTables.ts",
        "start": 639,
        "end": 685,
        "startLoc": {
          "line": 639,
          "column": 6,
          "position": 3489
        },
        "endLoc": {
          "line": 685,
          "column": 2,
          "position": 3641
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const profile = profileRepo.create({\n            userId: user.id,\n            firstName: data.firstName,\n            lastName: data.lastName,\n            jobTitle: data.jobTitle,\n            baseSalary: data.baseSalary,\n            hireDate: new Date(),\n            tenantId,\n          });\n          await profileRepo.save(profile);\n        }",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/seed.ts",
        "start": 391,
        "end": 401,
        "startLoc": {
          "line": 391,
          "column": 11,
          "position": 3507
        },
        "endLoc": {
          "line": 401,
          "column": 2,
          "position": 3596
        }
      },
      "secondFile": {
        "name": "src/database/seed.ts",
        "start": 367,
        "end": 378,
        "startLoc": {
          "line": 367,
          "column": 9,
          "position": 3279
        },
        "endLoc": {
          "line": 378,
          "column": 2,
          "position": 3369
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import { Booking } from '../modules/bookings/entities/booking.entity';\nimport { Client } from '../modules/bookings/entities/client.entity';\nimport { PackageItem } from '../modules/catalog/entities/package-item.entity';\nimport { ServicePackage } from '../modules/catalog/entities/service-package.entity';\nimport { TaskType } from '../modules/catalog/entities/task-type.entity';\nimport { EmployeeWallet } from '../modules/finance/entities/employee-wallet.entity';\nimport { Invoice } from '../modules/finance/entities/invoice.entity';\nimport { Payout } from '../modules/finance/entities/payout.entity';\nimport { RecurringTransaction",
      "tokens": 0,
      "firstFile": {
        "name": "src/database/data-source.ts",
        "start": 8,
        "end": 16,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 75
        },
        "endLoc": {
          "line": 16,
          "column": 21,
          "position": 183
        }
      },
      "secondFile": {
        "name": "src/database/seed.ts",
        "start": 58,
        "end": 66,
        "startLoc": {
          "line": 58,
          "column": 1,
          "position": 473
        },
        "endLoc": {
          "line": 66,
          "column": 20,
          "position": 581
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n      reportOnly: false,\n    },\n    hsts: isProd\n      ? { maxAge: 31536000, includeSubDomains: true, preload: true }\n      : { maxAge: 86400, includeSubDomains: false },\n    crossOriginResourcePolicy: isProd ? { policy: 'same-site' } : false,\n    crossOriginOpenerPolicy: isProd ? { policy: 'same-origin' } : false,\n    crossOriginEmbedderPolicy: false,\n    referrerPolicy: { policy: 'strict-origin-when-cross-origin' },\n    xContentTypeOptions: true,\n    xDnsPrefetchControl: { allow: false },\n    xDownloadOptions: true,\n    xFrameOptions: { action: 'deny' },\n    xXssProtection: false,\n  });\n\n  app",
      "tokens": 0,
      "firstFile": {
        "name": "src/main.ts",
        "start": 69,
        "end": 86,
        "startLoc": {
          "line": 69,
          "column": 2,
          "position": 677
        },
        "endLoc": {
          "line": 86,
          "column": 4,
          "position": 860
        }
      },
      "secondFile": {
        "name": "src/main.ts",
        "start": 46,
        "end": 63,
        "startLoc": {
          "line": 46,
          "column": 20,
          "position": 438
        },
        "endLoc": {
          "line": 63,
          "column": 6,
          "position": 621
        }
      }
    }
  ]
}